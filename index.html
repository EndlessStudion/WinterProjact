<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WinterPandora V1.01</title>
    
<script>
    window.SKINS = [
        { id: 'default', name: '–ö–ª–∞—Å—Å–∏–∫–∞', color: 'linear-gradient(135deg, #40BFFF, #0099ff)', price: 0 },
        { id: 'black', name: '–ß–µ—Ä–Ω—ã–π', color: '#1a1a1a', price: 100 },
        { id: 'gold_act', name: '–ó–æ–ª–æ—Ç–æ (–ê–ö–¶–ò–Ø)', color: 'linear-gradient(135deg, #ffd700, #ff8c00)', price: 999 },
        { id: 'ruby', name: '–†—É–±–∏–Ω', color: 'linear-gradient(135deg, #cb2d3e, #ef473a)', price: 200 },
        { id: 'emerald', name: '–ò–∑—É–º—Ä—É–¥', color: 'linear-gradient(135deg, #2ecc71, #27ae60)', price: 350 },
        { id: 'neon', name: '–ù–µ–æ–Ω', color: 'linear-gradient(135deg, #ff00ff, #00ffff)', price: 500 },
        { id: 'mint', name: '–ú—è—Ç–∞', color: '#00FFCC', price: 250 },
        { id: 'frost', name: '–ú–æ—Ä–æ–∑', color: 'linear-gradient(135deg, #00d2ff, #928dab)', price: 300 },
        { id: 'sunset', name: '–ó–∞–∫–∞—Ç', color: 'linear-gradient(135deg, #f12711, #f5af19)', price: 400 },
        { id: 'lavender', name: '–õ–∞–≤–∞–Ω–¥–∞', color: 'linear-gradient(135deg, #834d9b, #d04ed6)', price: 450 },
        { id: 'forest', name: '–õ–µ—Å', color: 'linear-gradient(135deg, #134e5e, #71b280)', price: 550 },
        { id: 'space', name: '–ö–æ—Å–º–æ—Å', color: 'linear-gradient(135deg, #000046, #1cb5e0)', price: 600 },
        { id: 'fire', name: '–û–≥–æ–Ω—å', color: 'linear-gradient(135deg, #ed1c24, #fcee21)', price: 700 },
        { id: 'midnight', name: '–ü–æ–ª–Ω–æ—á—å', color: 'linear-gradient(135deg, #020024, #090979)', price: 850 },
        { id: 'candy', name: '–ö–æ–Ω—Ñ–µ—Ç–∞', color: 'linear-gradient(135deg, #ff9a9e, #fecfef)', price: 900 },
        { id: 'ocean', name: '–û–∫–µ–∞–Ω', color: 'linear-gradient(135deg, #2b5876, #4e4376)', price: 1100 },
        { id: 'toxic', name: '–¢–æ–∫—Å–∏–∫', color: 'linear-gradient(135deg, #11998e, #38ef7d)', price: 1300 },
        { id: 'cherry', name: '–í–∏—à–Ω—è', color: 'linear-gradient(135deg, #eb3349, #f45c43)', price: 1400 },
        { id: 'titan', name: '–¢–∏—Ç–∞–Ω', color: 'linear-gradient(135deg, #283048, #859398)', price: 1600 },
        { id: 'rose', name: '–†–æ–∑–∞', color: 'linear-gradient(135deg, #e94e84, #ff8a8a)', price: 1700 },
        { id: 'sun', name: '–°–æ–ª–Ω—Ü–µ', color: 'linear-gradient(135deg, #f7ff00, #dbdb81)', price: 1800 },
        { id: 'void', name: '–ü—É—Å—Ç–æ—Ç–∞', color: 'linear-gradient(135deg, #0f0c29, #302b63)', price: 3000 },
        { id: 'plasma', name: '–ü–ª–∞–∑–º–∞', color: 'linear-gradient(135deg, #e65c00, #F9D423)', price: 4000 },
        { id: 'nebula', name: '–¢—É–º–∞–Ω–Ω–æ—Å—Ç—å', color: 'linear-gradient(135deg, #6441a5, #2a0845)', price: 0 },
        { id: 'galaxy', name: '–ì–∞–ª–∞–∫—Ç–∏–∫–∞', color: 'linear-gradient(45deg, #2f0743, #41295a)', price: 10000 },
        { id: 'cyber', name: '–ö–∏–±–µ—Ä', color: 'linear-gradient(90deg, #3f5efb, #fc466b)', price: 2500 },
        { id: 'lemon', name: '–õ–∏–º–æ–Ω', color: '#d4fc79', price: 150 },
        { id: 'deep', name: '–ì–ª—É–±–∏–Ω–∞', color: '#243949', price: 1200 },
        { id: 'magic', name: '–ú–∞–≥–∏—è', color: 'linear-gradient(to top, #30cfd0 0%, #330867 100%)', price: 3300 },
        { id: 'winter_lord', name: '–ó–∏–º–Ω–∏–π –õ–æ—Ä–¥', color: 'linear-gradient(135deg, #667eea, #764ba2)', price: 999999, bp: true, bpOnly: true },
        { id: 'unicorn', name: 'ü¶Ñ UNICORN', color: 'linear-gradient(135deg, #FF69B4, #FF1493, #9370DB, #8A2BE2, #00BFFF, #87CEEB)', price: 7999, special: true },
        { id: 'waterfall', name: 'üåä –í–û–î–û–ü–ê–î', color: 'linear-gradient(135deg, #1a2980, #26d0ce)', price: 10999, special: true, multiplier: 1.5 },
        { id: 'pink', name: 'üíñ –†–æ–∑–æ–≤—ã–π', color: 'linear-gradient(135deg, #ff6b9d, #ff8fab)', price: 100 },
        { id: 'cloud', name: '‚òÅÔ∏è –û–±–ª–∞–∫–æ', color: 'linear-gradient(135deg, #e6f7ff, #f0f8ff)', price: 549 },
        { id: 'electrons', name: '‚ö° –≠–ª–µ–∫—Ç—Ä–æ–Ω—ã', color: 'linear-gradient(135deg, #00b4ff, #0080ff)', price: 7599, special: true },
        { id: 'undead_desert', name: '–ü–£–°–¢–´–®–¨', color: 'linear-gradient(135deg, #d2691e, #f4a460)', price: 999999, bp: true, bpOnly: true, multiplier: 2.0 },
        { id: 'winter_snowflake', name: '‚ùÑÔ∏è –ó–∏–º–Ω–∏–π –°–Ω–µ–∂–∏–Ω–∫–∞', color: 'linear-gradient(135deg, #ff0000, #ff6666, #ff9999)', price: 999999, rebirthSkin: true, rebirthRequired: 3 }
    ];

    window.UNBAN_CODES = [
        "X7#kL9$qP2@mN5&",
        "R3!tY8*zB4%vC6^",
        "F9@jM2#wD5&pQ7*",
        "H4^gK6!sL8$rT0%",
        "Z1%nV3@cX7#bJ9!"
    ];
    
    window.generateNewUserId = function() {
        let lastId = localStorage.getItem('last_user_id');
        if (!lastId) {
            lastId = 100000;
        } else {
            lastId = parseInt(lastId) + 1;
        }
        localStorage.setItem('last_user_id', lastId.toString());
        return lastId.toString();
    };
      
    window.db = JSON.parse(localStorage.getItem('cp_v101_final')) || {
        score:0,
        coins:0,
        ccoins:0,
        clicks:0,
        up:1,
        plus:false,
        skin:'default',
        owned:['default'],
        promos:[],
        userId: null,
        avatarUrl: null,
        warnings: 0,
        isBanned: false,
        banReason: '',
        usedUnbanCodes: [],
        claimedRewards: [],
        activeMultiplier: 1,
        bpLevelsClaimed: [],
        rebirthCount: 0,
        infiniteCoins: false
    };
    
    if (!Array.isArray(window.db.usedUnbanCodes)) window.db.usedUnbanCodes = [];
    if (!Array.isArray(window.db.claimedRewards)) window.db.claimedRewards = [];
    if (!window.db.userId) window.db.userId = window.generateNewUserId();
    if (!window.db.activeMultiplier) window.db.activeMultiplier = 1;
    if (!Array.isArray(window.db.bpLevelsClaimed)) window.db.bpLevelsClaimed = [];
    if (!window.db.rebirthCount) window.db.rebirthCount = 0;
    if (window.db.infiniteCoins === undefined) window.db.infiniteCoins = false;
    
    window.save = function() {
        localStorage.setItem('cp_v101_final', JSON.stringify(window.db));
    };

    window.antiAutoClick = {
        clickHistory: [],
        lastClickTime: 0,
        sessionClicks: 0,
        sessionStart: Date.now(),
        isBlocked: false,
        settings: {
            maxCPS: 25,
            maxSessionClicks: 5000,
            sessionDuration: 300000,
            patternThreshold: 0.9,
            coolDownTime: 30000,
            minClickInterval: 20,
            maxWarnings: 3
        },
        
        init: function() {
            this.clickHistory = [];
            this.sessionStart = Date.now();
            this.sessionClicks = 0;
            this.isBlocked = false;
            if (window.db.isBanned) {
                this.showPermanentBan();
                return false;
            }
            return true;
        },
        
        canClick: function(x, y) {
            if (window.db.isBanned) return false;
            const now = Date.now();
            if (this.isBlocked) {
                if (now - this.lastClickTime < this.settings.coolDownTime) return false;
                this.isBlocked = false;
                this.sessionClicks = 0;
                this.sessionStart = now;
            }
            if (now - this.lastClickTime < this.settings.minClickInterval) return false;
            const clickData = { time: now, x: x, y: y, interval: this.lastClickTime ? now - this.lastClickTime : 0 };
            this.clickHistory.push(clickData);
            this.lastClickTime = now;
            this.sessionClicks++;
            if (this.clickHistory.length > 100) this.clickHistory.shift();
            if (this.clickHistory.length > 30 && this.detectPattern()) {
                this.giveWarning("–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∏–∫–∏");
                return false;
            }
            if (this.checkClickSpeed()) {
                this.giveWarning("–°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∫–ª–∏–∫–æ–≤");
                return false;
            }
            if (this.sessionClicks > this.settings.maxSessionClicks && (now - this.sessionStart) < this.settings.sessionDuration) {
                this.giveWarning("–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∫–ª–∏–∫–æ–≤ –∑–∞ —Å–µ—Å—Å–∏—é");
                return false;
            }
            return true;
        },
        
        checkClickSpeed: function() {
            if (this.clickHistory.length < 10) return false;
            const recentClicks = this.clickHistory.slice(-10);
            const firstTime = recentClicks[0].time;
            const lastTime = recentClicks[recentClicks.length - 1].time;
            const timeDiff = lastTime - firstTime;
            if (timeDiff < 1000) {
                const cps = (recentClicks.length / timeDiff) * 1000;
                if (cps > this.settings.maxCPS) return true;
            }
            return false;
        },
        
        detectPattern: function() {
            if (this.clickHistory.length < 30) return false;
            const intervals = [];
            const positions = [];
            for (let i = 1; i < this.clickHistory.length; i++) {
                intervals.push(this.clickHistory[i].interval);
                positions.push({ x: this.clickHistory[i].x, y: this.clickHistory[i].y });
            }
            const intervalPattern = this.checkRegularity(intervals);
            const positionPattern = this.checkPositionPattern(positions);
            return (intervalPattern && positionPattern);
        },
        
        checkRegularity: function(intervals) {
            if (intervals.length < 10) return false;
            let regularityScore = 0;
            const threshold = 10;
            for (let i = 1; i < intervals.length; i++) {
                if (Math.abs(intervals[i] - intervals[i-1]) < threshold) regularityScore++;
            }
            return (regularityScore / intervals.length) > this.settings.patternThreshold;
        },
        
        checkPositionPattern: function(positions) {
            if (positions.length < 10) return false;
            let patternScore = 0;
            const posThreshold = 5;
            for (let i = 1; i < positions.length; i++) {
                const dx = Math.abs(positions[i].x - positions[i-1].x);
                const dy = Math.abs(positions[i].y - positions[i-1].y);
                if (dx < posThreshold && dy < posThreshold) patternScore++;
            }
            return (patternScore / positions.length) > this.settings.patternThreshold;
        },
        
        giveWarning: function(reason) {
            this.isBlocked = true;
            this.lastClickTime = Date.now();
            window.db.warnings++;
            window.save();
            if (window.db.warnings >= this.settings.maxWarnings) {
                this.banPermanently("–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª (–∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä)");
                return;
            }
            this.showWarning(reason, window.db.warnings);
        },
        
        banPermanently: function(reason) {
            window.db.isBanned = true;
            window.db.banReason = reason;
            window.save();
            this.showPermanentBan();
        },
        
        showWarning: function(reason, warningNumber) {
            const warning = document.createElement('div');
            warning.className = 'anti-click-warning';
            warning.innerHTML = `
                <div class="warning-content">
                    <div class="warning-icon">‚ö†Ô∏è</div>
                    <div class="warning-text">
                        <strong>–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï ${warningNumber}/${this.settings.maxWarnings}</strong><br>
                        ${reason}<br>
                        <small>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞: 30 —Å–µ–∫—É–Ω–¥</small><br>
                        <small>–ü–æ—Å–ª–µ ${this.settings.maxWarnings} –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π - –≤–µ—á–Ω—ã–π –±–∞–Ω!</small>
                    </div>
                </div>
            `;
            document.body.appendChild(warning);
            setTimeout(() => {
                if (warning.parentNode) {
                    warning.style.opacity = '0';
                    setTimeout(() => warning.remove(), 300);
                }
            }, 5000);
        },
        
        showPermanentBan: function() {
            const banScreen = document.createElement('div');
            banScreen.className = 'permanent-ban-screen';
            banScreen.innerHTML = `
                <div class="ban-content">
                    <div class="ban-icon">üö´</div>
                    <div class="ban-title">–ê–ö–ö–ê–£–ù–¢ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù</div>
                    <div class="ban-reason">–ü—Ä–∏—á–∏–Ω–∞: ${window.db.banReason}</div>
                    <div class="ban-unban-section">
                        <input type="text" id="unban-code-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏" class="unban-input">
                        <button onclick="window.checkUnbanCode()" class="unban-btn">–†–ê–ó–ë–õ–û–ö–ò–†–û–í–ê–¢–¨</button>
                    </div>
                    <div class="ban-details">
                        ID: ${window.db.userId}<br>
                        <small>–ö–æ–¥—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏</small>
                    </div>
                </div>
            `;
            document.body.appendChild(banScreen);
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
        },
        
        resetSession: function() {
            this.sessionClicks = Math.floor(this.sessionClicks / 2);
            this.sessionStart = Date.now();
            this.clickHistory = [];
        }
    };
    
    window.checkUnbanCode = function() {
        const input = document.getElementById('unban-code-input');
        const code = input.value.trim();
        if (!code) {
            alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥');
            return;
        }
        if (window.db.usedUnbanCodes.includes(code)) {
            alert('–ö–æ–¥ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω');
            return;
        }
        if (window.UNBAN_CODES.includes(code)) {
            window.db.isBanned = false;
            window.db.warnings = 0;
            window.db.banReason = '';
            window.db.usedUnbanCodes.push(code);
            window.save();
            const banScreen = document.querySelector('.permanent-ban-screen');
            if (banScreen) banScreen.remove();
            window.showScreen('main-screen');
            window.updateUI();
            alert('–ê–∫–∫–∞—É–Ω—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω!');
        } else {
            alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥');
        }
    };
      
    window.getRanks = function() {
        const c = Number(window.db.score);
        if (c >= 25000000) return { name: '–ß–ï–ú–ü–ò–û–ù', icon: 'üèÜ', color: '#ff00ff', glow: '0 0 30px #ff00ff' };
        if (c >= 10000000) return { name: '–ú–ê–°–¢–ï–†', icon: 'üî±', color: '#ff8c00', glow: '0 0 25px #ff8c00' };
        if (c >= 5000000) return { name: '–≠–ö–°–ü–ï–†–¢', icon: 'üíé', color: '#00bfff', glow: '0 0 20px #00bfff' };
        if (c >= 50000) return { name: '–ê–õ–ú–ê–ó', icon: 'üí†', color: '#00ffff', glow: '0 0 15px #00ffff' };
        if (c >= 1000000) return { name: '–ë–ï–ó–£–ú–ù–´–ô', icon: 'ü§™', color: '#ff00ff' };
        if (c >= 150000) return { name: '–õ–ï–ì–ï–ù–î–ê', icon: 'üëë', color: '#ff4757' };
        if (c >= 75000) return { name: '–ü–õ–ê–¢–ò–ù–ê', icon: 'üõ°Ô∏è', color: '#eccc68' };
        if (c >= 20000) return { name: '–§–ï–ù–ò–ö–°', icon: 'üî•', color: '#ff7f00' };
        if (c >= 10000) return { name: '–ó–û–õ–û–¢–û', icon: 'ü•á', color: '#ffa502' };
        if (c >= 5000) return { name: '–°–ï–†–ï–ë–†–û', icon: 'ü•à', color: '#ced6e0' };
        if (c >= 1000) return { name: '–ë–†–û–ù–ó–ê', icon: 'ü•â', color: '#a29bfe' };
        if (c >= 500) return { name: '–ü–†–û', icon: '‚ö°', color: '#2ecc71' };
        if (c >= 100) return { name: '–ù–£–ë', icon: 'ü§°', color: '#7bed9f' };
        return { name: '–ù–û–í–ò–ß–û–ö', icon: 'üë∂', color: '#70a1ff' };
    };

    window.toggleTheme = function() {
        const body = document.body;
        const next = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        body.setAttribute('data-theme', next);
        localStorage.setItem('cp_theme', next);
    };

    window.toggleMusic = function() {
        const m = document.getElementById('bg-music');
        if (m.paused) m.play().catch(() => {});
        else m.pause();
    };

    window.updateUI = function() {
        if (window.db.isBanned) {
            document.getElementById('click-button').style.display = 'none';
            document.querySelectorAll('.btn-action').forEach(btn => btn.style.display = 'none');
            return;
        }
        document.getElementById('score').textContent = Number(window.db.score).toLocaleString();
        
        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –º–æ–Ω–µ—Ç—ã —Å —É—á–µ—Ç–æ–º –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        if (window.db.infiniteCoins) {
            document.getElementById('coins').textContent = '‚àû';
            document.getElementById('coins').style.color = '#00ff00';
            document.getElementById('coins').style.fontWeight = '900';
            document.getElementById('coins').style.textShadow = '0 0 10px #00ff00';
            document.getElementById('infinite-mode').style.display = 'block';
        } else {
            document.getElementById('coins').textContent = Number(window.db.coins).toLocaleString();
            document.getElementById('coins').style.color = 'orange';
            document.getElementById('coins').style.fontWeight = 'normal';
            document.getElementById('coins').style.textShadow = 'none';
            document.getElementById('infinite-mode').style.display = 'none';
        }
        
        document.getElementById('ccoins').textContent = Number(window.db.ccoins).toLocaleString();
        document.getElementById('rebirth-count').textContent = window.db.rebirthCount;
        document.getElementById('rebirth-count-profile').textContent = window.db.rebirthCount;
        
        if (window.db.up >= 7) {
            document.getElementById('up-btn').textContent = "–ú–ê–ö–°";
        } else if (window.db.up === 6) {
            document.getElementById('up-btn').textContent = `–£–ª—É—á—à–∏—Ç—å –¥–æ 7 —É—Ä–æ–≤–Ω—è –∑–∞ 1,000,000 üí∞`;
        } else if (window.db.up === 5) {
            document.getElementById('up-btn').textContent = `–£–ª—É—á—à–∏—Ç—å –¥–æ 6 —É—Ä–æ–≤–Ω—è –∑–∞ 100,000 üí∞`;
        } else {
            document.getElementById('up-btn').textContent = `–£–ª—É—á—à–∏—Ç—å –¥–æ ${window.db.up + 1} —É—Ä–æ–≤–Ω—è –∑–∞ ${window.db.up*500} üí∞`;
        }
        
        const rank = window.getRanks();
        const rEl = document.getElementById('rank-display');
        rEl.innerHTML = `${rank.icon} ${rank.name}`;
        rEl.style.color = rank.color;
        if (rank.glow) {
            rEl.style.textShadow = rank.glow;
            rEl.style.fontWeight = '900';
            rEl.style.animation = 'pulse 2s infinite';
        } else {
            rEl.style.textShadow = 'none';
            rEl.style.animation = 'none';
        }
        
        const sk = window.SKINS.find(x => x.id === window.db.skin) || window.SKINS[0];
        
        const clickButton = document.getElementById('click-button');
        clickButton.classList.remove('unicorn-button', 'waterfall-button', 'electrons-button', 'cloud-button', 'undead-desert-button', 'winter-snowflake-button');
        
        if (window.db.skin === 'unicorn') {
            clickButton.classList.add('unicorn-button');
        } else if (window.db.skin === 'waterfall') {
            clickButton.classList.add('waterfall-button');
        } else if (window.db.skin === 'electrons') {
            clickButton.classList.add('electrons-button');
        } else if (window.db.skin === 'cloud') {
            clickButton.classList.add('cloud-button');
        } else if (window.db.skin === 'undead_desert') {
            clickButton.classList.add('undead-desert-button');
        } else if (window.db.skin === 'winter_snowflake') {
            clickButton.classList.add('winter-snowflake-button');
        } else {
            clickButton.style.background = sk.color;
        }
        
        const lvl = Math.floor(Number(window.db.clicks) / 1500);
        const prog = Number(window.db.clicks) % 1500;
        document.getElementById('bp-bar-fill').style.width = (prog / 15) + '%';
        document.getElementById('bp-lvl-display').textContent = lvl;
        document.getElementById('bp-prog-text').textContent = prog;
        document.getElementById('profile-user-id').textContent = window.db.userId;
        const avatarElement = document.getElementById('profile-avatar');
        if (window.db.avatarUrl) {
            avatarElement.innerHTML = `<img src="${window.db.avatarUrl}" alt="–ê–≤–∞—Ç–∞—Ä" style="width:100%; height:100%; border-radius:50%; object-fit:cover;">`;
        } else {
            avatarElement.textContent = 'üë§';
        }
        if (window.antiAutoClick.isBlocked) {
            document.getElementById('click-button').style.opacity = '0.5';
            document.getElementById('click-button').style.cursor = 'not-allowed';
        } else {
            document.getElementById('click-button').style.opacity = '1';
            document.getElementById('click-button').style.cursor = 'pointer';
        }
    };

    window.doClick = function(e) {
        if(e) e.preventDefault();
        if (window.db.isBanned) return;
        const cx = e.clientX || (e.touches ? e.touches[0].clientX : window.innerWidth/2);
        const cy = e.clientY || (e.touches ? e.touches[0].clientY : window.innerHeight/2);
        if (!window.antiAutoClick.canClick(cx, cy)) {
            const blockAnim = document.createElement('div');
            blockAnim.className = 'click-anim';
            blockAnim.textContent = 'üö´';
            blockAnim.style.color = '#ff4757';
            blockAnim.style.left = cx + 'px';
            blockAnim.style.top = cy + 'px';
            document.body.appendChild(blockAnim);
            setTimeout(() => blockAnim.remove(), 600);
            return;
        }
        let baseP = window.db.up;
        if (window.db.up === 5) baseP = 10;
        else if (window.db.up === 6) baseP = 25;
        else if (window.db.up === 7) baseP = 45;
        
        const multiplier = window.db.activeMultiplier;
        const finalP = Math.floor(baseP * multiplier);
        
        window.db.score += finalP;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –º–æ–Ω–µ—Ç—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        if (!window.db.infiniteCoins) {
            window.db.coins += finalP;
        }
        
        window.db.clicks += baseP;
        
        if (window.db.skin === 'electrons') {
            const electron = document.createElement('div');
            electron.className = 'electron-anim';
            electron.style.left = cx + 'px';
            electron.style.top = cy + 'px';
            electron.style.width = '30px';
            electron.style.height = '30px';
            electron.style.background = 'radial-gradient(circle, #00b4ff, #0080ff)';
            electron.style.boxShadow = '0 0 20px #00b4ff, 0 0 40px #0080ff';
            document.body.appendChild(electron);
            setTimeout(() => electron.remove(), 800);
        }
        
        if (window.db.skin === 'undead_desert') {
            for(let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const sand = document.createElement('div');
                    sand.className = 'sand-anim';
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 50 + Math.random() * 100;
                    sand.style.left = cx + 'px';
                    sand.style.top = cy + 'px';
                    sand.style.width = '10px';
                    sand.style.height = '10px';
                    sand.style.background = 'radial-gradient(circle, #d2691e, #8b4513)';
                    sand.style.borderRadius = '50%';
                    sand.style.boxShadow = '0 0 10px #d2691e';
                    document.body.appendChild(sand);
                    
                    setTimeout(() => {
                        sand.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                        sand.style.opacity = '0';
                    }, 10);
                    
                    setTimeout(() => {
                        if (sand.parentNode) sand.remove();
                    }, 600);
                }, i * 50);
            }
        }
        
        if (window.db.skin === 'winter_snowflake') {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake-anim';
            snowflake.style.left = cx + 'px';
            snowflake.style.top = cy + 'px';
            snowflake.style.fontSize = '24px';
            snowflake.textContent = '‚ùÑÔ∏è';
            document.body.appendChild(snowflake);
            setTimeout(() => snowflake.remove(), 800);
        }
        
        const a = document.createElement('div');
        a.className = 'click-anim';
        a.textContent = `+${finalP}`;
        a.style.color = 'var(--primary)';
        a.style.fontSize = '30px';
        a.style.textShadow = 'none';
        a.style.left = cx + 'px';
        a.style.top = cy + 'px';
        document.body.appendChild(a);
        setTimeout(() => a.remove(), 600);
        window.save();
        window.updateUI();
    };

    window.showScreen = function(id) {
        if (window.db.isBanned && id !== 'profile-screen') return;
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'bp-screen') window.renderBP();
        if(id === 'skin-screen') window.renderSkins();
        if(id === 'profile-screen') window.renderProfile();
        if(id === 'exchange-screen') window.renderExchange();
        if (id !== 'main-screen') window.antiAutoClick.resetSession();
    };

    window.renderBP = function() {
        const list = document.getElementById('bp-list');
        const curLvl = Math.floor(Number(window.db.clicks) / 1500);
        let html = '';
        for(let i = 1; i <= 500; i++) {
            const isReached = i <= curLvl;
            const isClaimedFree = window.db.bpLevelsClaimed.includes(`free_${i}`);
            const isClaimedPremium = window.db.bpLevelsClaimed.includes(`premium_${i}`);
            const canClaimFree = isReached && !isClaimedFree;
            const canClaimPremium = isReached && window.db.plus && !isClaimedPremium;
            
            let freeRewardText = '';
            let freeRewardIcon = '';
            
            if (i === 500) {
                freeRewardText = '2500';
                freeRewardIcon = 'üí∞';
            } else if (i % 50 === 0) {
                freeRewardText = '25';
                freeRewardIcon = 'üíé';
            } else if (i % 10 === 0) {
                freeRewardText = '1000';
                freeRewardIcon = 'üí∞';
            } else {
                freeRewardText = '500';
                freeRewardIcon = 'üí∞';
            }
            
            let premiumRewardText = '';
            let premiumRewardIcon = '';
            
            if (i === 500) {
                premiumRewardText = '–ü–£–°–¢–´–®–¨';
                premiumRewardIcon = 'üèúÔ∏è';
            } else if (i % 25 === 0) {
                premiumRewardText = '50';
                premiumRewardIcon = 'üíé';
            } else if (i % 5 === 0) {
                premiumRewardText = '5000';
                premiumRewardIcon = 'üí∞';
            } else {
                premiumRewardText = '20';
                premiumRewardIcon = 'üíé';
            }
            
            html += `<div class="bp-level-row">
                <div class="bp-reward-card ${isReached ? '' : 'locked'} ${isClaimedFree ? 'claimed' : ''}"
                     onclick="${canClaimFree ? `window.claimBPReward(${i}, 'free')` : ''}">
                    ${isClaimedFree ? '‚úÖ' : freeRewardIcon} ${freeRewardText}
                </div>
                <div class="bp-level-circle" onclick="${canClaimFree ? `window.claimBPReward(${i}, 'free')` : ''}">${i}</div>
                <div class="bp-reward-card premium ${isReached && window.db.plus ? '' : 'locked'} ${isClaimedPremium ? 'claimed' : ''}"
                     onclick="${canClaimPremium ? `window.claimBPReward(${i}, 'premium')` : ''}">
                    ${isClaimedPremium ? '‚úÖ' : premiumRewardIcon} ${premiumRewardText}
                </div>
            </div>`;
        }
        list.innerHTML = html;
        
        const buttonsContainer = document.querySelector('#bp-screen .main-card > div:last-child');
        if (window.db.plus) {
            buttonsContainer.innerHTML = `
                <div style="display: flex; justify-content: center; gap: 10px; margin-top: 15px;">
                    <button class="btn-action" style="background:var(--ccoin); color:black; width: 100%; max-width: 200px;" onclick="window.buyLevel()">–ö–£–ü–ò–¢–¨ –£–†–û–í–ï–ù–¨ (30 üíé)</button>
                </div>
            `;
        } else {
            buttonsContainer.innerHTML = `
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn-action" style="background:gold; color:black; flex: 1;" onclick="window.buyPlus()">–ö–£–ü–ò–¢–¨ –ë–ü+ (799 üíé)</button>
                    <button class="btn-action" style="background:var(--ccoin); color:black; flex: 1;" onclick="window.buyLevel()">–ö–£–ü–ò–¢–¨ –£–†–û–í–ï–ù–¨ (30 üíé)</button>
                </div>
            `;
        }
    };

    window.claimBPReward = function(level, type) {
        const curLvl = Math.floor(Number(window.db.clicks) / 1500);
        if (level > curLvl) return;
        const rewardId = `${type}_${level}`;
        if (window.db.bpLevelsClaimed.includes(rewardId)) return;
        if (type === 'premium' && !window.db.plus) return;
        
        if (type === 'free') {
            if (level === 500) {
                window.db.coins += 2500;
            } else if (level % 50 === 0) {
                window.db.ccoins += 25;
            } else if (level % 10 === 0) {
                window.db.coins += 1000;
            } else {
                window.db.coins += 500;
            }
        } else if (type === 'premium') {
            if (level === 500) {
                if (!window.db.owned.includes('undead_desert')) window.db.owned.push('undead_desert');
                alert('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–∫–∏–Ω "–ü–£–°–¢–´–®–¨" —Å –±–æ–Ω—É—Å–æ–º x2!');
            } else if (level % 25 === 0) {
                window.db.ccoins += 50;
            } else if (level % 5 === 0) {
                window.db.coins += 5000;
            } else {
                window.db.ccoins += 20;
            }
        }
        window.db.bpLevelsClaimed.push(rewardId);
        window.save();
        window.updateUI();
        window.renderBP();
    };

    window.renderSkins = function() {
        const l = document.getElementById('skin-list');
        let html = '';
        window.SKINS.forEach(s => {
            const has = window.db.owned.includes(s.id);
            const act = window.db.skin === s.id;
            const isUnicorn = s.id === 'unicorn';
            const isWinterLord = s.id === 'winter_lord';
            const isUndeadDesert = s.id === 'undead_desert';
            const isWaterfall = s.id === 'waterfall';
            const isElectrons = s.id === 'electrons';
            const isCloud = s.id === 'cloud';
            const isWinterSnowflake = s.id === 'winter_snowflake';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –¥–ª—è —Å–∫–∏–Ω–∞ —Å–Ω–µ–∂–∏–Ω–∫–∏
            let canBuy = true;
            let buttonText = '';
            
            if (isWinterSnowflake) {
                if (window.db.rebirthCount >= 3) {
                    if (has) {
                        buttonText = act ? '–ê–ö–¢.' : '–í–´–ë–û–†';
                    } else {
                        // –°–∫–∏–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ 3 –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π
                        // —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å –º—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ
                        canBuy = false;
                        buttonText = '–ü–û–°–õ–ï 3 –ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ô';
                    }
                } else {
                    canBuy = false;
                    buttonText = `–ù–£–ñ–ù–û ${3 - window.db.rebirthCount} –ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ô`;
                }
            } else if (isWinterLord || isUndeadDesert) {
                canBuy = has; // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å
                buttonText = !has ? '–¢–û–õ–¨–ö–û –ë–ü' : (act ? '–ê–ö–¢.' : '–í–´–ë–û–†');
            } else {
                canBuy = true;
                buttonText = act ? '–ê–ö–¢.' : (has ? '–í–´–ë–û–†' : s.price + ' üíé');
            }
            
            let previewClass = '';
            if (isUnicorn) previewClass = 'unicorn-preview';
            else if (isWaterfall) previewClass = 'waterfall-preview';
            else if (isElectrons) previewClass = 'electrons-preview';
            else if (isCloud) previewClass = 'cloud-preview';
            else if (isUndeadDesert) previewClass = 'undead-desert-preview';
            else if (isWinterSnowflake) previewClass = 'winter-snowflake-preview';
            
            html += `<div class="skin-card">
                <div class="skin-preview ${previewClass}" style="${!previewClass ? 'background:' + s.color : ''}"></div>
                <div class="skin-name">${s.name}</div>
                <button onclick="${canBuy ? `window.setSkin('${s.id}', ${s.price})` : ''}"
                        class="skin-btn ${act?'active':''} ${!canBuy ? 'locked' : ''}">
                    ${buttonText}
                </button>
            </div>`;
        });
        l.innerHTML = html;
    };

    window.renderProfile = function() {
    };

    window.renderExchange = function() {
        if (window.db.infiniteCoins) {
            document.getElementById('exchange-coins').textContent = '‚àû';
            document.getElementById('exchange-coins').style.color = '#00ff00';
            document.getElementById('exchange-coins').style.fontWeight = '900';
            document.getElementById('exchange-coins').style.textShadow = '0 0 10px #00ff00';
        } else {
            document.getElementById('exchange-coins').textContent = window.db.coins.toLocaleString();
            document.getElementById('exchange-coins').style.color = '';
            document.getElementById('exchange-coins').style.fontWeight = '';
            document.getElementById('exchange-coins').style.textShadow = '';
        }
        document.getElementById('exchange-ccoins').textContent = window.db.ccoins.toLocaleString();
        document.getElementById('exchange-rate').textContent = '1 üíé = 100,000 üí∞';
        document.getElementById('exchange-amount').value = '';
        document.getElementById('exchange-result').textContent = '0 üíé';
    };

    window.calculateExchange = function() {
        const amount = parseInt(document.getElementById('exchange-amount').value) || 0;
        const diamonds = Math.floor(amount / 100000);
        document.getElementById('exchange-result').textContent = `${diamonds.toLocaleString()} üíé`;
    };

    window.exchangeCoins = function() {
        if (window.db.infiniteCoins) {
            alert('‚ùå –û–±–º–µ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ä–µ–∂–∏–º–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –º–æ–Ω–µ—Ç!');
            return;
        }
        
        const amount = parseInt(document.getElementById('exchange-amount').value) || 0;
        const diamonds = Math.floor(amount / 100000);
        
        if (amount <= 0) {
            alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –¥–ª—è –æ–±–º–µ–Ω–∞!');
            return;
        }
        
        if (window.db.coins < amount) {
            alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –¥–ª—è –æ–±–º–µ–Ω–∞!');
            return;
        }
        
        if (diamonds <= 0) {
            alert('–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ - 100,000 –º–æ–Ω–µ—Ç (1 –∞–ª–º–∞–∑)!');
            return;
        }
        
        if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ–±–º–µ–Ω—è—Ç—å ${amount.toLocaleString()} üí∞ –Ω–∞ ${diamonds} üíé?`)) {
            window.db.coins -= amount;
            window.db.ccoins += diamonds;
            window.save();
            window.updateUI();
            window.renderExchange();
            alert(`‚úÖ –£—Å–ø–µ—à–Ω–æ! –í—ã –æ–±–º–µ–Ω—è–ª–∏ ${amount.toLocaleString()} –º–æ–Ω–µ—Ç –Ω–∞ ${diamonds} –∞–ª–º–∞–∑–æ–≤!`);
        }
    };

    window.setSkin = function(id, p) {
        const skin = window.SKINS.find(s => s.id === id);
        if (!skin) return;
        
        if(window.db.owned.includes(id)) {
            window.db.skin = id;
            window.db.activeMultiplier = skin.multiplier || 1;
        } else if(window.db.ccoins >= p) {
            window.db.ccoins -= p;
            window.db.owned.push(id);
            window.db.skin = id;
            window.db.activeMultiplier = skin.multiplier || 1;
        }
        window.save();
        window.updateUI();
        window.renderSkins();
    };

    window.uploadAvatar = function() {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'image/*';
        input.onchange = (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    window.db.avatarUrl = event.target.result;
                    window.save();
                    window.updateUI();
                };
                reader.readAsDataURL(file);
            }
        };
        input.click();
    };

    window.rebirth = function() {
        // –í —Ä–µ–∂–∏–º–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –º–æ–Ω–µ—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ä–æ–∂–¥–∞—Ç—å—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ
        if (!window.db.infiniteCoins && window.db.coins < 5000000) {
            alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –¥–ª—è –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è! –ù—É–∂–Ω–æ 5,000,000 üí∞');
            return;
        }
        
        const costText = window.db.infiniteCoins ? "–ë–ï–°–ü–õ–ê–¢–ù–û (—Ä–µ–∂–∏–º –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –º–æ–Ω–µ—Ç)" : "5,000,000 üí∞";
        
        if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ—Ä–æ–¥–∏—Ç—å—Å—è –∑–∞ ${costText}?\n\n–≠—Ç–æ —Å–±—Ä–æ—Å–∏—Ç –≤–∞—à —Å—á–µ—Ç –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å—ã, –Ω–æ –¥–∞—Å—Ç –±–æ–Ω—É—Å—ã!`)) {
            if (!window.db.infiniteCoins) {
                window.db.coins -= 5000000;
            }
            window.db.rebirthCount += 1;
            
            const oldScore = window.db.score;
            const oldClicks = window.db.clicks;
            
            window.db.score = 0;
            window.db.clicks = 0;
            window.db.up = 1;
            window.db.activeMultiplier = 1;
            window.db.skin = 'default';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏ 3 –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π
            if (window.db.rebirthCount >= 3 && !window.db.owned.includes('winter_snowflake')) {
                window.db.owned.push('winter_snowflake');
                alert('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–ª—É—á–∏–ª–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Å–∫–∏–Ω "‚ùÑÔ∏è –ó–∏–º–Ω–∏–π –°–Ω–µ–∂–∏–Ω–∫–∞" –∑–∞ 3 –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è!\n–°–∫–∏–Ω —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –≥–∞—Ä–¥–µ—Ä–æ–±–µ!');
            }
            
            window.save();
            window.updateUI();
            window.renderSkins();
            
            let rebirthMessage = `‚úÖ –ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!\n–ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π: ${window.db.rebirthCount}`;
            if (window.db.rebirthCount >= 3) {
                rebirthMessage += '\nüéâ –í—ã –ø–æ–ª—É—á–∏–ª–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Å–∫–∏–Ω "‚ùÑÔ∏è –ó–∏–º–Ω–∏–π –°–Ω–µ–∂–∏–Ω–∫–∞"!';
            } else {
                rebirthMessage += `\n–î–æ —Å–∫–∏–Ω–∞ —Å–Ω–µ–∂–∏–Ω–∫–∏ –æ—Å—Ç–∞–ª–æ—Å—å: ${3 - window.db.rebirthCount} –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π`;
            }
            alert(rebirthMessage);
        }
    };

    window.buyLevel = function() { 
        if(window.db.ccoins >= 30) { 
            window.db.ccoins -= 30; 
            window.db.clicks += 1500; 
            window.save(); 
            window.updateUI(); 
            window.renderBP(); 
        }
    };
    
    window.buyPlus = function() { 
        if(window.db.ccoins >= 799) { 
            window.db.ccoins -= 799; 
            window.db.plus = true; 
            window.save(); 
            window.updateUI(); 
            window.renderBP();
            alert('üéâ Battle Pass –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–µ–º–∏—É–º –Ω–∞–≥—Ä–∞–¥—ã!');
        } else {
            alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–ª–º–∞–∑–æ–≤! –ù—É–∂–Ω–æ 799 üíé');
        }
    };
    
    window.buyUp = function() {
        if (window.db.up >= 7) return;
        
        let cost = 0;
        if (window.db.up < 5) cost = window.db.up * 500;
        else if (window.db.up === 5) cost = 100000;
        else if (window.db.up === 6) cost = 1000000;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –º–æ–Ω–µ—Ç—ã
        if (window.db.infiniteCoins || window.db.coins >= cost) {
            if (!window.db.infiniteCoins) {
                window.db.coins -= cost;
            }
            window.db.up++;
            window.save();
            window.updateUI();
        }
    };
      
    window.openCase = function() {
        if(window.db.ccoins < 100) return alert("–ú–∞–ª–æ üíé");
        window.db.ccoins -= 100;
        const pool = window.SKINS.filter(s => !s.bpOnly && s.id !== 'winter_lord' && s.id !== 'undead_desert' && s.id !== 'winter_snowflake' && !s.rebirthSkin);
        const win = pool[Math.floor(Math.random()*pool.length)];
        if(!window.db.owned.includes(win.id)) window.db.owned.push(win.id);
        alert("–í—ã–ø–∞–ª: " + win.name); window.save(); window.updateUI();
    };

    window.usePromo = function() {
        const v = document.getElementById('promo-input').value.toUpperCase().trim();
        if(window.db.promos.includes(v)) return alert("–£–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!");
        let msg = "";
        if(v === 'UPDATE') { window.db.coins += 100; window.db.score += 1000; msg = "üîÑ +100 –º–æ–Ω–µ—Ç –∏ +1000 —Å—á—ë—Ç–∞!"; }
        else if(v === 'COMPENSATION') { window.db.coins += 500; window.db.ccoins += 121; msg = "üí∞ +500 –º–æ–Ω–µ—Ç –∏ +121 –∞–ª–º–∞–∑!"; }
        else if(v === 'BOOM') { if(!window.db.owned.includes('space')) window.db.owned.push('space'); msg = "üöÄ –°–∫–∏–Ω –ö–æ—Å–º–æ—Å –ø–æ–ª—É—á–µ–Ω!"; }
        else if(v === 'ZXC') { window.db.coins += 10000; msg = "üí∞ +10,000 –º–æ–Ω–µ—Ç!"; }
        else if(v === 'ZV148K') {
            window.db.coins += 5000000;
            window.db.score += 1200000;
            window.db.ccoins += 1000000;
            msg = "üí∞ +5,000,000 –º–æ–Ω–µ—Ç! +1,200,000 —Å—á–µ—Ç–∞! +1,000,000 –∞–ª–º–∞–∑–æ–≤!";
        }
        else if(v === 'KIT START') { window.db.coins += 459; window.db.ccoins += 179; msg = "üéÅ +459 –º–æ–Ω–µ—Ç –∏ +179 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'UNICORN') { window.db.coins += 100; if(!window.db.owned.includes('unicorn')) window.db.owned.push('unicorn'); msg = "ü¶Ñ +100 –º–æ–Ω–µ—Ç –∏ —Å–∫–∏–Ω UNICORN –ø–æ–ª—É—á–µ–Ω!"; }
        else if(v === '87%NMG96') { window.db.score += 200000; window.db.ccoins += 50; msg = "‚ú® +200,000 —Å—á—ë—Ç–∞ –∏ +50 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'GIFT') { window.db.ccoins += 500; msg = "üíé +500!"; }
        else if(v === 'WINTER2025') { window.db.ccoins += 1000; msg = "üíé +1000!"; }
        else if(v === 'FREEUP') { window.db.up = 5; msg = "‚ö° –£—Ä–æ–≤–µ–Ω—å –∫–ª–∏–∫–∞ –ú–ê–ö–°!"; }
        else if(v === 'LORD') { if(!window.db.owned.includes('winter_lord')) window.db.owned.push('winter_lord'); msg = "‚ùÑÔ∏è –°–∫–∏–Ω –õ–æ—Ä–¥ –ø–æ–ª—É—á–µ–Ω!"; }
        else if(v === 'COINS') { window.db.coins += 50000; msg = "üí∞ +50,000!"; }
        else if(v === 'GG00%P&') { window.db.ccoins += 49; msg = "üíé +49 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'FQ24%%P') { window.db.ccoins += 499; msg = "üíé +499 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === '%7HA2LL') { window.db.ccoins += 899; msg = "üíé +899 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'F92%%&KA') { window.db.ccoins += 2999; msg = "üíé +2999 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'FWP828%&JLA') { window.db.ccoins += 5000; window.db.plus = true; msg = "üíé +5000 –∞–ª–º–∞–∑–æ–≤ –∏ –±–∞—Ç–ª –ø–∞—Å—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!"; }
        else if(v === 'Z48$%LSO&') { window.db.ccoins += 500; msg = "üíé +500 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'D01%&-RIS') { window.db.ccoins += 2500; msg = "üíé +2500 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === '8%FG2$%-1') { window.db.ccoins += 5000; msg = "üíé +5000 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === '%72MAK13') { window.db.ccoins += 10000; msg = "üíé +10000 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'CAH293$%J') { window.db.ccoins += 50000; msg = "üíé +50000 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'GH28$%') { window.db.score += 10000; msg = "‚ú® +10000 —Å—á—ë—Ç–∞!"; }
        else if(v === 'GHUIA82%') { window.db.score += 20000; msg = "‚ú® +20000 —Å—á—ë—Ç–∞!"; }
        else if(v === 'HO293%#JKS') { window.db.score += 30000; msg = "‚ú® +30000 —Å—á—ë—Ç–∞!"; }
        else if(v === 'HAJCVX') { window.db.score += 50000; msg = "‚ú® +50000 —Å—á—ë—Ç–∞!"; }
        else if(v === 'SIGMA') { window.db.coins += 100; window.db.ccoins += 5; msg = "üí∞ +100 –º–æ–Ω–µ—Ç –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'GIGACHAD') { window.db.coins += 100; window.db.ccoins += 5; msg = "üí∞ +100 –º–æ–Ω–µ—Ç –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'ALPHA') { window.db.coins += 100; window.db.ccoins += 5; msg = "üí∞ +100 –º–æ–Ω–µ—Ç –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'OMEGA') { window.db.coins += 100; window.db.ccoins += 5; msg = "üí∞ +100 –º–æ–Ω–µ—Ç –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'BOY') { if(!window.db.owned.includes('frost')) window.db.owned.push('frost'); window.db.ccoins += 5; msg = "‚ùÑÔ∏è –°–∫–∏–Ω –ú–æ—Ä–æ–∑ –ø–æ–ª—É—á–µ–Ω –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'GIRL') { if(!window.db.owned.includes('pink')) window.db.owned.push('pink'); window.db.ccoins += 5; msg = "üíñ –°–∫–∏–Ω –†–æ–∑–æ–≤—ã–π –ø–æ–ª—É—á–µ–Ω –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'SERIOUS') { window.db.coins += 200; window.db.ccoins += 5; msg = "üí∞ +200 –º–æ–Ω–µ—Ç –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'WILD') { window.db.coins += 200; window.db.ccoins += 5; msg = "üí∞ +200 –º–æ–Ω–µ—Ç –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'INSANE') { window.db.coins += 200; window.db.ccoins += 5; msg = "üí∞ +200 –º–æ–Ω–µ—Ç –∏ üíé +5 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === '777') { window.db.score += 777; window.db.coins += 777; msg = "üé∞ +777 —Å—á—ë—Ç–∞ –∏ +777 –º–æ–Ω–µ—Ç!"; }
        else if(v === 'DYSTONASIA') { window.db.coins += 400; window.db.ccoins += 129; msg = "üí∞ +400 –º–æ–Ω–µ—Ç –∏ üíé +129 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'LOSINIZIUP') { window.db.coins += 200; window.db.score += 5599; msg = "üí∞ +200 –º–æ–Ω–µ—Ç –∏ ‚ú® +5599 —Å—á—ë—Ç–∞!"; }
        else if(v === 'HEROISM') { window.db.coins += 1499; window.db.ccoins += 499; msg = "üí∞ +1499 –º–æ–Ω–µ—Ç –∏ üíé +499 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'ELDERS') { window.db.coins += 122; window.db.score += 5999; msg = "üí∞ +122 –º–æ–Ω–µ—Ç—ã –∏ ‚ú® +5999 —Å—á—ë—Ç–∞!"; }
        else if(v === 'MINOTAUR') { if(!window.db.owned.includes('magic')) window.db.owned.push('magic'); window.db.ccoins += 129; msg = "üîÆ –°–∫–∏–Ω –ú–∞–≥–∏—è –ø–æ–ª—É—á–µ–Ω –∏ üíé +129 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'GOGIRIKI') { if(!window.db.owned.includes('cloud')) window.db.owned.push('cloud'); window.db.score += 10999; msg = "‚òÅÔ∏è –°–∫–∏–Ω –û–±–ª–∞–∫–æ –ø–æ–ª—É—á–µ–Ω –∏ ‚ú® +10999 —Å—á—ë—Ç–∞!"; }
        else if(v === 'GIFT42') { window.db.ccoins += 42; window.db.score += 42; window.db.coins += 42; msg = "üéÅ +42 –∞–ª–º–∞–∑–∞, +42 —Å—á—ë—Ç–∞ –∏ +42 –º–æ–Ω–µ—Ç—ã!"; }
        else if(v === 'GIFT599') { window.db.score += 599; window.db.coins += 599; window.db.ccoins += 599; msg = "üéÅ +599 —Å—á—ë—Ç–∞, +599 –º–æ–Ω–µ—Ç –∏ +599 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'GIFT796') { window.db.score += 796; window.db.coins += 796; window.db.ccoins += 796; msg = "üéÅ +796 —Å—á—ë—Ç–∞, +796 –º–æ–Ω–µ—Ç –∏ +796 –∞–ª–º–∞–∑–æ–≤!"; }
        else if(v === 'FFFF90') { window.db.score += 599; if(!window.db.owned.includes('plasma')) window.db.owned.push('plasma'); msg = "‚ú® +599 —Å—á—ë—Ç–∞ –∏ ‚ö° —Å–∫–∏–Ω –ü–ª–∞–∑–º–∞ –ø–æ–ª—É—á–µ–Ω!"; }
        else if(v === 'DG38$#)JE') {
            window.db.coins += 12000000;
            window.db.score += 20000000;
            window.db.ccoins += 1000000;
            msg = "üí∞ +12,000,000 –º–æ–Ω–µ—Ç! ‚ú® +20,000,000 —Å—á—ë—Ç–∞! üíé +1,000,000 –∞–ª–º–∞–∑–æ–≤!";
        }
        // –ù–æ–≤—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã
        else if(v === 'JA29$;LALW') {
            window.db.infiniteCoins = true;
            window.db.coins = 999999999;
            msg = "üéÆ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù –†–ï–ñ–ò–ú –ë–ï–°–ö–û–ù–ï–ß–ù–´–• –ú–û–ù–ï–¢! üí∞ ‚àû\n–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–∫—É–ø–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ!";
        }
        else if(v === 'JSI38%;SJJS') {
            window.db.coins += 2000000;
            msg = "üí∞ +2,000,000 –º–æ–Ω–µ—Ç!";
        }
        else { return alert("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥!"); }
        window.db.promos.push(v);
        alert(msg);
        window.save();
        window.updateUI();
    };

    window.onload = function() {
        const t = localStorage.getItem('cp_theme') || 'dark';
        document.body.setAttribute('data-theme', t);
        window.antiAutoClick.init();
        window.updateUI();
    };
</script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Poppins:wght@400;700&display=swap');
    :root { --bg: #0f172a; --card: #1e293b; --text: #f8fafc; --primary: #38bdf8; --ccoin: #2dd4bf; --border: rgba(255,255,255,0.1); } body[data-theme="light"] { --bg: #f1f5f9; --card: #ffffff; --text: #1e293b; --border: rgba(0,0,0,0.05); }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; user-select: none; }
    body { font-family: 'Poppins', sans-serif; background: var(--bg); color: var(--text); height: 100vh; overflow: hidden; }
    
    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.7; }
        100% { opacity: 1; }
    }
    
    @keyframes infinite-glow {
        0% { text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00; }
        50% { text-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00, 0 0 40px #00ff00; }
        100% { text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00; }
    }
    
    @keyframes snowflake-fall {
        0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
        100% { transform: translateY(100px) rotate(360deg); opacity: 0; }
    }
    
    .profile-control {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 100;
        display: flex;
        gap: 8px;
    }
    .profile-btn {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        background: var(--card);
        border: 1px solid var(--border);
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        color: var(--text);
        font-size: 18px;
    }
    .exchange-btn {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        background: var(--card);
        border: 1px solid var(--border);
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        color: var(--text);
        font-size: 18px;
        background: linear-gradient(135deg, #2ecc71, #27ae60);
    }
      
    .top-controls { position: fixed; top: 10px; right: 10px; display: flex; gap: 8px; z-index: 100; }
    .control-btn { width: 40px; height: 40px; border-radius: 12px; background: var(--card); border: 1px solid var(--border); display: flex; justify-content: center; align-items: center; cursor: pointer; color: var(--text); }
    .control-btn svg { width: 20px; height: 20px; fill: currentColor; }

    .screen { display: none; width: 100%; height: 100%; position: absolute; padding: 60px 15px 20px; overflow-y: auto; flex-direction: column; align-items: center; }
    .active { display: flex; }
    .main-card {
        background: var(--card);
        width: 100%;
        padding: 15px;
        border-radius: 20px;
        text-align: center;
        border: 1px solid var(--border);
        margin-bottom: 15px;
        position: relative;
    }
    .score-display { font-family: 'Montserrat'; font-size: 45px; color: var(--primary); }
      
    #rank-display {
        font-weight: 900;
        font-size: 16px;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
    }

    #click-button {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        border: 8px solid var(--bg);
        background: var(--primary);
        color: white;
        font-weight: 900;
        font-size: 24px;
        margin: 10px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        transition: 0.1s;
        position: relative;
        overflow: hidden;
    }
    #click-button:active { transform: scale(0.92); }
    #click-button.unicorn-button {
        animation: unicorn-flow 3s linear infinite;
        background-size: 400% 400%;
        background-image: linear-gradient(135deg,
            #FF69B4 0%,
            #FF1493 20%,
            #9370DB 40%,
            #8A2BE2 60%,
            #00BFFF 80%,
            #87CEEB 100%
        );
    }
    
    #click-button.waterfall-button {
        background: linear-gradient(to bottom, #1a2980, #26d0ce);
        animation: waterfall-flow 2s linear infinite;
        position: relative;
        overflow: hidden;
    }
    
    #click-button.waterfall-button::before {
        content: '';
        position: absolute;
        top: -100%;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: waterfall-drop 1.5s linear infinite;
    }
    
    #click-button.electrons-button {
        background: radial-gradient(circle, #00b4ff, #0080ff);
        animation: electron-pulse 1.5s ease-in-out infinite;
        box-shadow: 0 0 30px #00b4ff, 0 0 60px #0080ff, 0 0 90px rgba(0, 128, 255, 0.5);
    }
    
    #click-button.cloud-button {
        background: linear-gradient(135deg, #e6f7ff, #f0f8ff);
        box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
        color: #4a90e2;
    }
    
    #click-button.undead-desert-button {
        background: linear-gradient(135deg, #d2691e, #f4a460);
        animation: desert-pulse 2s ease-in-out infinite;
        box-shadow: 0 0 30px #d2691e, 0 0 60px #8b4513;
    }
    
    #click-button.winter-snowflake-button {
        background: linear-gradient(135deg, #ff0000, #ff6666, #ff9999);
        animation: snowflake-spin 4s linear infinite;
        position: relative;
        overflow: hidden;
    }
    
    #click-button.winter-snowflake-button::before {
        content: '‚ùÑÔ∏è';
        position: absolute;
        font-size: 20px;
        animation: snowflake-float 8s linear infinite;
        opacity: 0.5;
    }

    .btn-action { width: 100%; padding: 16px; border-radius: 18px; border: none; font-weight: 700; background: var(--card); color: var(--text); border: 1px solid var(--border); margin-bottom: 10px; cursor: pointer; }
    .skin-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; padding-bottom: 20px; }
    .skin-card { background: var(--card); border: 1px solid var(--border); border-radius: 20px; padding: 15px; display: flex; flex-direction: column; align-items: center; }
    .skin-preview {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-bottom: 8px;
    }
    .unicorn-preview {
        animation: unicorn-flow 3s linear infinite;
        background-size: 400% 400%;
        background-image: linear-gradient(135deg,
            #FF69B4 0%,
            #FF1493 20%,
            #9370DB 40%,
            #8A2BE2 60%,
            #00BFFF 80%,
            #87CEEB 100%
        );
        box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
    }
    
    .waterfall-preview {
        background: linear-gradient(to bottom, #1a2980, #26d0ce);
        animation: waterfall-flow 2s linear infinite;
        position: relative;
        overflow: hidden;
    }
    
    .waterfall-preview::before {
        content: '';
        position: absolute;
        top: -100%;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: waterfall-drop 1.5s linear infinite;
    }
    
    .electrons-preview {
        background: radial-gradient(circle, #00b4ff, #0080ff);
        animation: electron-pulse 1.5s ease-in-out infinite;
        box-shadow: 0 0 20px #00b4ff, 0 0 40px #0080ff;
    }
    
    .cloud-preview {
        background: linear-gradient(135deg, #e6f7ff, #f0f8ff);
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
    }
    
    .undead-desert-preview {
        background: linear-gradient(135deg, #d2691e, #f4a460);
        animation: desert-pulse 2s ease-in-out infinite;
        box-shadow: 0 0 20px #d2691e, 0 0 40px #8b4513;
    }
    
    .winter-snowflake-preview {
        background: linear-gradient(135deg, #ff0000, #ff6666, #ff9999);
        animation: snowflake-spin 4s linear infinite;
        position: relative;
        overflow: hidden;
    }
    
    .winter-snowflake-preview::before {
        content: '‚ùÑÔ∏è';
        position: absolute;
        font-size: 14px;
        animation: snowflake-float 6s linear infinite;
        opacity: 0.7;
    }
    
    @keyframes snowflake-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    @keyframes snowflake-float {
        0% { top: -10px; left: -10px; }
        25% { top: 40px; left: 40px; }
        50% { top: -10px; left: 40px; }
        75% { top: 40px; left: -10px; }
        100% { top: -10px; left: -10px; }
    }
    
    .skin-btn { width: 100%; padding: 8px; border-radius: 10px; border: none; background: #2d3436; color: white; font-size: 10px; font-weight: 700; }
    .skin-btn.active { background: var(--primary); }
    .skin-btn.locked {
        background: #555;
        color: #999;
        cursor: not-allowed;
    }
    .bp-level-row { display: grid; grid-template-columns: 1fr 40px 1fr; gap: 10px; width: 100%; align-items: center; margin-bottom: 10px; }
    .bp-reward-card {
        background: var(--card);
        padding: 12px;
        border-radius: 15px;
        text-align: center;
        font-size: 12px;
        font-weight: 700;
        cursor: pointer;
        transition: 0.2s;
    }
    .bp-reward-card:hover:not(.locked):not(.claimed) {
        background: var(--primary);
        color: white;
    }
    .bp-reward-card.claimed {
        background: #2ecc71;
        color: white;
        cursor: default;
    }
    .bp-level-circle {
        background: var(--text);
        color: var(--bg);
        width: 35px;
        height: 35px;
        border-radius = 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 900;
        margin: auto;
        cursor: pointer;
        transition: 0.2s;
    }
    .bp-level-circle:hover:not(.locked) {
        background: var(--primary);
        color: white;
    }
    .locked { opacity: 0.3; cursor: default !important; }
    .bp-bar { width: 100%; height: 10px; background: rgba(0,0,0,0.2); border-radius: 5px; overflow: hidden; margin: 10px 0; }
    #bp-bar-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.3s; }
    .click-anim { position: fixed; pointer-events: none; color: var(--primary); font-weight: 900; font-size: 30px; animation: floatUp 0.6s forwards; z-index: 1000; }
    
    .electron-anim {
        position: fixed;
        pointer-events: none;
        border-radius: 50%;
        animation: electronExplode 0.8s ease-out forwards;
        z-index: 999;
    }
    
    .sand-anim {
        position: fixed;
        pointer-events: none;
        border-radius: 50%;
        animation: sandExplode 0.6s ease-out forwards;
        z-index: 999;
        transition: all 0.6s ease-out;
    }
    
    .snowflake-anim {
        position: fixed;
        pointer-events: none;
        font-size: 24px;
        animation: snowflake-fall 0.8s ease-out forwards;
        z-index: 999;
    }
    
    @keyframes floatUp { from { opacity: 1; transform: translate(-50%, 0); } to { opacity: 0; transform: translate(-50%, -100px); } }
    
    @keyframes electronExplode {
        0% { transform: scale(1); opacity: 1; }
        100% { transform: scale(2); opacity: 0; }
    }
    
    @keyframes sandExplode {
        0% { transform: scale(1); opacity: 1; }
        100% { transform: scale(0.5); opacity: 0; }
    }
    
    @keyframes desert-pulse {
        0%, 100% { box-shadow: 0 0 30px #d2691e, 0 0 60px #8b4513; }
        50% { box-shadow: 0 0 40px #d2691e, 0 0 80px #8b4513; }
    }
    
    @keyframes unicorn-flow {
        0% {
            background-position: 0% 50%;
            box-shadow: 0 0 25px rgba(255, 105, 180, 0.7);
        }
        16.67% {
            background-position: 20% 50%;
            box-shadow: 0 0 25px rgba(255, 20, 147, 0.7);
        }
        33.33% {
            background-position: 40% 50%;
            box-shadow = 0 0 25px rgba(147, 112, 219, 0.7);
        }
        50% {
            background-position: 60% 50%;
            box-shadow: 0 0 25px rgba(138, 43, 226, 0.7);
        }
        66.67% {
            background-position: 80% 50%;
            box-shadow: 0 0 25px rgba(0, 191, 255, 0.7);
        }
        83.33% {
            background-position: 100% 50%;
            box-shadow: 0 0 25px rgba(135, 206, 235, 0.7);
        }
        100% {
            background-position: 0% 50%;
            box-shadow: 0 0 25px rgba(255, 105, 180, 0.7);
        }
    }
    
    @keyframes waterfall-flow {
        0% { background-position: 0% 0%; }
        100% { background-position: 0% 100%; }
    }
    
    @keyframes waterfall-drop {
        0% { top: -100%; }
        100% { top: 100%; }
    }
    
    @keyframes electron-pulse {
        0%, 100% { box-shadow: 0 0 30px #00b4ff, 0 0 60px #0080ff, 0 0 90px rgba(0, 128, 255, 0.5); }
        50% { box-shadow: 0 0 40px #00b4ff, 0 0 80px #0080ff, 0 0 120px rgba(0, 128, 255, 0.7); }
    }
    
    #bp-screen .main-card {
        background: linear-gradient(135deg, #3d2c1a, #5c4228);
        border: 1px solid #8b4513;
        position: relative;
        overflow: hidden;
        min-height: 180px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding-bottom: 20px;
    }
    
    #bp-screen .main-card > div:last-child {
        margin-top: auto;
    }
    
    #bp-screen .main-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%238b4513' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        opacity: 0.3;
        z-index: 0;
    }
    
    #bp-screen .main-card > * {
        position: relative;
        z-index: 1;
    }
    
    #bp-screen .bp-bar {
        background: #5c4228;
    }
    
    #bp-screen #bp-bar-fill {
        background: linear-gradient(90deg, #d2691e, #f4a460);
    }
    
    #bp-screen .bp-level-circle {
        background: #f4a460;
        color: #3d2c1a;
        border: 2px solid #8b4513;
    }
    
    #bp-screen .bp-level-circle:hover:not(.locked) {
        background: #d2691e;
        color: white;
    }
    
    #bp-screen .bp-reward-card {
        background: rgba(61, 44, 26, 0.8);
        border: 1px solid #8b4513;
    }
    
    #bp-screen .bp-reward-card:hover:not(.locked):not(.claimed) {
        background: #d2691e;
        color: white;
    }
    
    #bp-screen .bp-reward-card.premium {
        background: rgba(91, 66, 40, 0.8);
        border: 1px solid #d2691e;
    }
    
    #bp-screen .bp-reward-card.premium:hover:not(.locked):not(.claimed) {
        background: #f4a460;
        color: #3d2c1a;
    }
    
    #bp-screen .bp-reward-card.claimed {
        background: #8b4513;
        color: white;
    }
    
    #bp-screen .btn-action {
        padding: 14px 12px;
        font-size: 14px;
        min-height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        line-height: 1.2;
    }
    
    #bp-list {
        width: 100%;
        max-height: 380px;
        overflow-y: auto;
        padding: 0 5px;
        margin-bottom: 15px;
    }
    
    #bp-list::-webkit-scrollbar {
        width: 6px;
    }
    
    #bp-list::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.1);
        border-radius: 3px;
    }
    
    #bp-list::-webkit-scrollbar-thumb {
        background: #d2691e;
        border-radius: 3px;
    }
    
    .bp-level-row {
        margin-bottom: 8px;
    }
    
    .bp-reward-card {
        padding: 10px 8px;
        font-size: 11px;
    }
    
    .bp-level-circle {
        width: 30px;
        height = 30px;
        font-size: 12px;
    }
    
    .profile-info {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
        padding: 20px;
        background: var(--card);
        border-radius: 20px;
        width: 100%;
    }
    .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--primary);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 40px;
        overflow: hidden;
        cursor: pointer;
        flex-shrink: 0;
    }
    .profile-avatar:hover {
        opacity: 0.8;
    }
    .profile-details {
        text-align: left;
        flex: 1;
    }
    .profile-id {
        font-family: 'Montserrat';
        font-size: 22px;
        font-weight: 900;
        margin-bottom: 5px;
    }
    
    .profile-stats {
        width: 100%;
        margin-top: 20px;
        padding: 15px;
        background: var(--card);
        border-radius: 15px;
    }
    .profile-stat-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        padding: 8px 0;
        border-bottom: 1px solid var(--border);
    }
    .stat-label {
        font-size: 14px;
        opacity: 0.8;
    }
    .stat-value {
        font-weight: 700;
        font-size: 14px;
    }
    .stat-value.warning {
        color: #ffa502;
    }
    .stat-value.banned {
        color: #ff4757;
    }
    
    .exchange-info {
        display: flex;
        justify-content: space-between;
        margin: 15px 0;
        padding: 15px;
        background: rgba(0,0,0,0.1);
        border-radius: 15px;
    }
    .exchange-balance {
        text-align: center;
    }
    .exchange-balance-title {
        font-size: 14px;
        opacity: 0.8;
        margin-bottom: 5px;
    }
    .exchange-balance-value {
        font-weight: 900;
        font-size: 18px;
    }
    .exchange-rate {
        text-align: center;
        margin: 20px 0;
        padding: 15px;
        background: var(--primary);
        color: white;
        border-radius: 15px;
        font-weight: 700;
    }
    .exchange-input {
        width: 100%;
        padding: 15px;
        border-radius: 15px;
        border: 2px solid var(--border);
        background: rgba(0,0,0,0.1);
        color: var(--text);
        text-align: center;
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 10px;
    }
    .exchange-result {
        text-align: center;
        margin: 15px 0;
        padding: 15px;
        background: rgba(46, 204, 113, 0.2);
        border-radius: 15px;
        font-size: 20px;
        font-weight: 900;
        color: #2ecc71;
    }
    .exchange-btn-action {
        width: 100%;
        padding: 16px;
        border-radius: 18px;
        border: none;
        font-weight: 900;
        background: linear-gradient(135deg, #2ecc71, #27ae60);
        color: white;
        margin-bottom: 10px;
        cursor: pointer;
        font-size: 16px;
    }
    .exchange-btn-action:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    .anti-click-warning {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10000;
        background: rgba(255, 165, 2, 0.95);
        color: white;
        padding: 20px;
        border-radius: 20px;
        max-width: 300px;
        text-align: center;
        animation: warningAppear 0.3s ease-out;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        border: 2px solid #ffbe76;
    }
    @keyframes warningAppear {
        from { opacity: 0; transform: translate(-50%, -40%); }
        to { opacity: 1; transform: translate(-50%, -50%); }
    }
    .warning-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
    }
    .warning-icon {
        font-size: 40px;
    }
    .warning-text {
        line-height: 1.4;
    }
    .warning-text small {
        opacity: 0.8;
        font-size: 12px;
    }
    
    .permanent-ban-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--bg);
        z-index: 100000;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }
    .ban-content {
        background: var(--card);
        padding: 30px;
        border-radius: 25px;
        text-align: center;
        max-width: 400px;
        width: 100%;
        border: 2px solid #ff4757;
        box-shadow: 0 15px 40px rgba(0,0,0,0.4);
    }
    .ban-icon {
        font-size: 80px;
        margin-bottom: 20px;
    }
    .ban-title {
        font-family: 'Montserrat';
        font-size: 24px;
        color: #ff4757;
        margin-bottom: 10px;
        font-weight: 900;
    }
    .ban-reason {
        font-weight: 700;
        color: #ffa502;
        margin-bottom: 20px;
        padding: 10px;
        background: rgba(255, 71, 87, 0.1);
        border-radius: 10px;
    }
    .ban-unban-section {
        margin: 20px 0;
    }
    .unban-input {
        width = 100%;
        padding: 12px;
        border-radius: 12px;
        border: 2px solid var(--border);
        background: rgba(0,0,0,0.1);
        color: var(--text);
        text-align: center;
        font-size: 14px;
        margin-bottom: 10px;
    }
    .unban-btn {
        width: 100%;
        padding: 12px;
        border-radius: 12px;
        border: none;
        background: #2ecc71;
        color: white;
        font-weight: 700;
        cursor: pointer;
        transition: 0.2s;
    }
    .unban-btn:hover {
        background: #27ae60;
    }
    .ban-details {
        line-height: 1.5;
        margin-top: 15px;
        opacity: 0.9;
    }
    .ban-details small {
        display: block;
        margin-top: 10px;
        font-size: 12px;
        opacity: 0.7;
    }
    
    .rebirth-info {
        margin: 10px 0;
        padding: 10px;
        background: rgba(155, 89, 182, 0.2);
        border-radius: 10px;
        font-size: 14px;
    }
    
    .watermark {
        position: fixed;
        bottom: 10px;
        right: 10px;
        color: rgba(255, 255, 255, 0.3);
        font-size: 12px;
        z-index: 1;
        pointer-events: none;
        font-family: 'Poppins', sans-serif;
    }
    
    body[data-theme="light"] .watermark {
        color: rgba(0, 0, 0, 0.3);
    }
    
    .infinite-mode-notice {
        margin: 10px 0;
        padding: 10px;
        background: rgba(0, 255, 0, 0.2);
        border-radius: 10px;
        font-size: 14px;
        color: #00ff00;
        font-weight: bold;
        text-shadow: 0 0 5px #00ff00;
        animation: infinite-glow 2s infinite;
    }
</style>

</head>
<body data-theme="dark">
    <div class="watermark">–ò–î–ï–Ø ClickedTeam</div>
    
    <audio id="bg-music" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3"></audio>
    
    <div class="profile-control">
        <div class="profile-btn" onclick="window.showScreen('profile-screen')">
            üë§
        </div>
        <div class="exchange-btn" onclick="window.showScreen('exchange-screen')">
            üí±
        </div>
    </div>
    
    <div class="top-controls">
        <div class="control-btn" onclick="window.toggleMusic()">
            <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
        </div>
        <div class="control-btn" onclick="window.toggleTheme()">
            <svg viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
        </div>
    </div>

<div id="main-screen" class="screen active">
    <h2 style="color:var(--primary)">WinterPandora</h2>
    <div class="main-card">
        <div id="score" class="score-display">0</div>
        <div style="margin: 10px 0;">
            <span style="color:orange">üí∞ <span id="coins">0</span></span>
            <span style="color:var(--ccoin); margin-left:15px;">üíé <span id="ccoins">0</span></span>
        </div>
          
        <div id="rank-display">üë∂ –ù–û–í–ò–ß–û–ö</div>
        <div class="rebirth-info">
            –ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π: <span id="rebirth-count">0</span>
        </div>
        
        <div id="infinite-mode" class="infinite-mode-notice" style="display: none;">
            ‚ö° –†–ï–ñ–ò–ú –ë–ï–°–ö–û–ù–ï–ß–ù–´–• –ú–û–ù–ï–¢ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!
        </div>
          
        <button id="click-button" onpointerdown="window.doClick(event)">–ö–õ–ò–ö!</button>
        <div onclick="window.showScreen('skin-screen')" style="font-weight:700; opacity:0.7; cursor:pointer;">–ì–ê–†–î–ï–†–û–ë üëï</div>
    </div>
    <button id="up-btn" class="btn-action" onclick="window.buyUp()">–£–ª—É—á—à–∏—Ç—å (500 üí∞)</button>
    <button class="btn-action" style="background:var(--ccoin); color:black;" onclick="window.showScreen('case-screen')">–ö–ï–ô–° (100 üíé)</button>
    <button class="btn-action" style="background:#9b59b6; color:white;" onclick="window.rebirth()">–ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ï (5,000,000 üí∞)</button>
    <button class="btn-action" style="background:#3b82f6; color:white;" onclick="window.showScreen('bp-screen')">THE UNDEAD DESERT</button>
    <button class="btn-action" style="background:#f59e0b; color:white;" onclick="window.showScreen('promo-screen')">–ü–†–û–ú–û–ö–û–î üéÅ</button>
</div>

<div id="profile-screen" class="screen">
    <h2>–ü–†–û–§–ò–õ–¨</h2>
    <div class="main-card">
        <div class="profile-info">
            <div class="profile-avatar" id="profile-avatar" onclick="window.uploadAvatar()">üë§</div>
            <div class="profile-details">
                <div class="profile-id">–í–ê–® ID: <span id="profile-user-id">100000</span></div>
                <div>–ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π: <span id="rebirth-count-profile">0</span></div>
            </div>
        </div>
        
        <div class="profile-stats" id="profile-stats">
        </div>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="exchange-screen" class="screen">
    <h2 style="color:#2ecc71">–û–ë–ú–ï–ù–ù–ò–ö</h2>
    <div class="main-card">
        <div class="exchange-info">
            <div class="exchange-balance">
                <div class="exchange-balance-title">–í–∞—à–∏ –º–æ–Ω–µ—Ç—ã</div>
                <div class="exchange-balance-value" id="exchange-coins">0</div>
            </div>
            <div class="exchange-balance">
                <div class="exchange-balance-title">–í–∞—à–∏ –∞–ª–º–∞–∑—ã</div>
                <div class="exchange-balance-value" id="exchange-ccoins">0</div>
            </div>
        </div>
        
        <div class="exchange-rate">
            –ö—É—Ä—Å –æ–±–º–µ–Ω–∞: <span id="exchange-rate">1 üíé = 100,000 üí∞</span>
        </div>
        
        <input type="number" id="exchange-amount" class="exchange-input"
               placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç"
               oninput="window.calculateExchange()"
               min="100000"
               max="1000000000">
        
        <div class="exchange-result" id="exchange-result">
            0 üíé
        </div>
        
        <button class="exchange-btn-action" onclick="window.exchangeCoins()">
            –û–ë–ú–ï–ù–Ø–¢–¨ –ú–û–ù–ï–¢–´ –ù–ê –ê–õ–ú–ê–ó–´
        </button>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="promo-screen" class="screen">
    <h2>–ü–†–û–ú–û–ö–û–î</h2>
    <div class="main-card">
        <input type="text" id="promo-input" placeholder="–í–í–ï–î–ò –ö–û–î" style="width:100%; padding:15px; border-radius:15px; border:1px solid var(--border); background:rgba(0,0,0,0.1); color:var(--text); text-align:center;">
        <button class="btn-action" style="background:var(--primary); color:white; margin-top:15px;" onclick="window.usePromo()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨</button>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="bp-screen" class="screen">
    <h2>THE UNDEAD DESERT</h2>
    <div class="main-card">
        <div style="display:flex; justify-content:space-between; font-size:12px;">
            <span>–£—Ä. <span id="bp-lvl-display">0</span></span>
            <span><span id="bp-prog-text">0</span> / 1500 XP</span>
        </div>
        <div class="bp-bar"><div id="bp-bar-fill"></div></div>
        <div id="bp-buttons-container" style="margin-top: 15px;"></div>
    </div>
    <div id="bp-list" style="width:100%;"></div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="skin-screen" class="screen">
    <h2>–ì–ê–†–î–ï–†–û–ë</h2>
    <div id="skin-list" class="skin-grid"></div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="case-screen" class="screen">
    <h2>–ö–ï–ô–°–´</h2>
    <div class="main-card">
        <div style="font-size:100px;">üì¶</div>
        <button class="btn-action" style="background:var(--ccoin); color:black; margin-top:20px;" onclick="window.openCase()">–û–¢–ö–†–´–¢–¨</button>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        window.updateUI();
    });
</script>

</body>
</html>