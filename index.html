<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WinterPandora V1.02</title>
    
<script>
    window.SKINS = [
        { id: 'default', name: '–ö–ª–∞—Å—Å–∏–∫–∞', color: 'linear-gradient(135deg, #40BFFF, #0099ff)', price: 0 },
        { id: 'black', name: '–ß–µ—Ä–Ω—ã–π', color: '#1a1a1a', price: 100 },
        { id: 'gold_act', name: '–ó–æ–ª–æ—Ç–æ (–ê–ö–¶–ò–Ø)', color: 'linear-gradient(135deg, #ffd700, #ff8c00)', price: 999 },
        { id: 'ruby', name: '–†—É–±–∏–Ω', color: 'linear-gradient(135deg, #cb2d3e, #ef473a)', price: 200 },
        { id: 'emerald', name: '–ò–∑—É–º—Ä—É–¥', color: 'linear-gradient(135deg, #2ecc71, #27ae60)', price: 350 },
        { id: 'neon', name: '–ù–µ–æ–Ω', color: 'linear-gradient(135deg, #ff00ff, #00ffff)', price: 500 },
        { id: 'mint', name: '–ú—è—Ç–∞', color: '#00FFCC', price: 250 },
        { id: 'frost', name: '–ú–æ—Ä–æ–∑', color: 'linear-gradient(135deg, #00d2ff, #928dab)', price: 300 },
        { id: 'sunset', name: '–ó–∞–∫–∞—Ç', color: 'linear-gradient(135deg, #f12711, #f5af19)', price: 400 },
        { id: 'lavender', name: '–õ–∞–≤–∞–Ω–¥–∞', color: 'linear-gradient(135deg, #834d9b, #d04ed6)', price: 450 },
        { id: 'forest', name: '–õ–µ—Å', color: 'linear-gradient(135deg, #134e5e, #71b280)', price: 550 },
        { id: 'space', name: '–ö–æ—Å–º–æ—Å', color: 'linear-gradient(135deg, #000046, #1cb5e0)', price: 600 },
        { id: 'fire', name: '–û–≥–æ–Ω—å', color: 'linear-gradient(135deg, #ed1c24, #fcee21)', price: 700 },
        { id: 'midnight', name: '–ü–æ–ª–Ω–æ—á—å', color: 'linear-gradient(135deg, #020024, #090979)', price: 850 },
        { id: 'candy', name: '–ö–æ–Ω—Ñ–µ—Ç–∞', color: 'linear-gradient(135deg, #ff9a9e, #fecfef)', price: 900 },
        { id: 'ocean', name: '–û–∫–µ–∞–Ω', color: 'linear-gradient(135deg, #2b5876, #4e4376)', price: 1100 },
        { id: 'toxic', name: '–¢–æ–∫—Å–∏–∫', color: 'linear-gradient(135deg, #11998e, #38ef7d)', price: 1300 },
        { id: 'cherry', name: '–í–∏—à–Ω—è', color: 'linear-gradient(135deg, #eb3349, #f45c43)', price: 1400 },
        { id: 'titan', name: '–¢–∏—Ç–∞–Ω', color: 'linear-gradient(135deg, #283048, #859398)', price: 1600 },
        { id: 'rose', name: '–†–æ–∑–∞', color: 'linear-gradient(135deg, #e94e84, #ff8a8a)', price: 1700 },
        { id: 'sun', name: '–°–æ–ª–Ω—Ü–µ', color: 'linear-gradient(135deg, #f7ff00, #dbdb81)', price: 1800 },
        { id: 'void', name: '–ü—É—Å—Ç–æ—Ç–∞', color: 'linear-gradient(135deg, #0f0c29, #302b63)', price: 3000 },
        { id: 'plasma', name: '–ü–ª–∞–∑–º–∞', color: 'linear-gradient(135deg, #e65c00, #F9D423)', price: 4000 },
        { id: 'nebula', name: '–¢—É–º–∞–Ω–Ω–æ—Å—Ç—å', color: 'linear-gradient(135deg, #6441a5, #2a0845)', price: 0 },
        { id: 'galaxy', name: '–ì–∞–ª–∞–∫—Ç–∏–∫–∞', color: 'linear-gradient(45deg, #2f0743, #41295a)', price: 10000 },
        { id: 'cyber', name: '–ö–∏–±–µ—Ä', color: 'linear-gradient(90deg, #3f5efb, #fc466b)', price: 2500 },
        { id: 'lemon', name: '–õ–∏–º–æ–Ω', color: '#d4fc79', price: 150 },
        { id: 'deep', name: '–ì–ª—É–±–∏–Ω–∞', color: '#243949', price: 1200 },
        { id: 'magic', name: '–ú–∞–≥–∏—è', color: 'linear-gradient(to top, #30cfd0 0%, #330867 100%)', price: 3300 },
        { id: 'winter_lord', name: '–ó–∏–º–Ω–∏–π –õ–æ—Ä–¥', color: 'linear-gradient(135deg, #667eea, #764ba2)', price: 999999, bp: true, bpOnly: true },
        { id: 'unicorn', name: 'ü¶Ñ UNICORN', color: 'linear-gradient(135deg, #FF69B4, #FF1493, #9370DB, #8A2BE2, #00BFFF, #87CEEB)', price: 7999, special: true },
        { id: 'waterfall', name: 'üåä –í–û–î–û–ü–ê–î', color: 'linear-gradient(135deg, #1a2980, #26d0ce)', price: 10999, special: true, multiplier: 1.5 },
        { id: 'pink', name: 'üíñ –†–æ–∑–æ–≤—ã–π', color: 'linear-gradient(135deg, #ff6b9d, #ff8fab)', price: 100 },
        { id: 'cloud', name: '‚òÅÔ∏è –û–±–ª–∞–∫–æ', color: 'linear-gradient(135deg, #e6f7ff, #f0f8ff)', price: 549 },
        { id: 'electrons', name: '‚ö° –≠–ª–µ–∫—Ç—Ä–æ–Ω—ã', color: 'linear-gradient(135deg, #00b4ff, #0080ff)', price: 7599, special: true },
        { id: 'undead_desert', name: '–ü–£–°–¢–´–®–¨', color: 'linear-gradient(135deg, #d2691e, #f4a460)', price: 999999, bp: true, bpOnly: true, multiplier: 2.0 },
        { id: 'winter_snowflake', name: '‚ùÑÔ∏è –ó–∏–º–Ω–∏–π –°–Ω–µ–∂–∏–Ω–∫–∞', color: 'linear-gradient(135deg, #ff0000, #ff6666, #ff9999)', price: 999999, rebirthSkin: true, rebirthRequired: 3 },
        { id: 'rainbow', name: 'üåà –†–ê–î–£–ì–ê', color: 'linear-gradient(135deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)', price: 12000, special: true },
        { id: 'checker', name: '‚ôüÔ∏è –ö–õ–ï–¢–ö–ê', color: 'repeating-linear-gradient(45deg, #000000, #000000 10px, #ffffff 10px, #ffffff 20px)', price: 12000, special: true },
        { id: 'white_crown', name: 'üëë –ë–µ–ª–∞—è –ö–æ—Ä–æ–Ω–∞', color: '#ffffff', price: 999999, bp: true, bpOnly: true },
        { id: 'golden_crown', name: 'üëë –ó–æ–ª–æ—Ç–∞—è –ö–æ—Ä–æ–Ω–∞', color: 'linear-gradient(135deg, #ffd700, #ffed4e)', price: 999999, rebirthSkin: true, rebirthRequired: 10 },
        { id: 'alastor', name: 'üòà –ê–ª–∞—Å—Ç–æ—Ä', color: 'url(https://avatars.mds.yandex.net/i?id=1083fea1e68788715d2fe4ce944f1bc8_l-10933535-images-thumbs&n=13)', price: 100000, special: true, multiplier: 3.0 }
    ];

    window.UNBAN_CODES = [
        "X7#kL9$qP2@mN5&",
        "R3!tY8*zB4%vC6^",
        "F9@jM2#wD5&pQ7*",
        "H4^gK6!sL8$rT0%",
        "Z1%nV3@cX7#bJ9!",
        "W1N73R2026P4ND0R4",
        "4L1C3_1N_W0ND3RL4ND",
        "B4N_3V4D3R_PR0",
        "H4Z81N_H07EL",
        "V0X_D34L3R_777",
        "R3D3MP710N_C0D3",
        "UNB4N_M4ST3R_KEY",
        "FR33D0M_4CC3SS",
        "G0LD3N_T1CK3T_999",
        "S1LV3R_L1N1NG_X",
        "N3V3R_B4NN3D_4G41N",
        "CH3RRY_BL0550M_Z",
        "PH03N1X_R151NG",
        "DR4G0N_SL4Y3R_V",
        "L3G3ND_R3B0RN"
    ];
    
    window.NEW_PROMOCODES = [
        { code: 'WinterPandora2026YEARS', coins: 10000 },
        { code: 'WaterAlisonLoH', infiniteCoins: true, special: true },
        { code: '@bogkm', coins: 200000 },
        { code: '@Water_Alison', coins: 10000000 },
        { code: '@ReNerlix', coins: 10000000 },
        { code: '@Water_AlisonX@ReNerlix', coins: 10000 },
        { code: 'WinterPandora', coins: 10000 },
        { code: 'Fantastic', ccoins: 10 },
        { code: 'B0GKM', ccoins: 7 },
        { 
            code: 'WATERALISON1337DEV2026XCREATORPROMAXPLUSULTRA999SUPERHYPERMEGAGIGATERADEVELOPERMASTER', 
            waterAlisonDev: true,
            description: 'Water Alison ID —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (100 —Å–∏–º–≤–æ–ª–æ–≤)'
        },
        { 
            code: 'CUSTOMIDRANDOMTEXTABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890QWERTYUIOPASDFGHJKLZXCVBNM987654321', 
            customIdSimple: true,
            description: '–û–±—ã—á–Ω—ã–π –∫–∞—Å—Ç–æ–º–Ω—ã–π ID (100 —Å–∏–º–≤–æ–ª–æ–≤)'
        },
        { 
            code: 'RENERLIX20PROMAXDEVELOPERIDSUPERCREATOROFFICIALACCOUNTVERIFIEDBYWINTERPANDORATEAM2026X', 
            renerlixDev: true,
            description: 'ReNerlix 2.0 Developer ID (100 —Å–∏–º–≤–æ–ª–æ–≤)'
        }
    ];
    
    // –†–µ–≤–æ—Ä–∫ —Å–∏—Å—Ç–µ–º—ã –∞–∫–∫–∞—É–Ω—Ç–æ–≤
    window.ACCOUNT_TYPES = {
        NORMAL: 'normal',
        PREMIUM: 'premium',
        DEVELOPER: 'developer',
        LEGENDARY: 'legendary',
        WATER_ALISON: 'water_alison',
        RENERLIX: 'renerlix'
    };
    
    window.generateNewUserId = function() {
        let lastId = localStorage.getItem('last_user_id');
        if (!lastId) lastId = 100000;
        else lastId = parseInt(lastId) + 1;
        localStorage.setItem('last_user_id', lastId.toString());
        return lastId.toString();
    };
    
    window.migrateSaveData = function() {
        const oldSave = localStorage.getItem('cp_v101_final');
        if (oldSave) {
            try {
                const oldData = JSON.parse(oldSave);
                window.db.score = oldData.score || 0;
                window.db.coins = oldData.coins || 0;
                window.db.ccoins = oldData.ccoins || 0;
                window.db.clicks = oldData.clicks || 0;
                window.db.up = oldData.up || 1;
                window.db.plus = oldData.plus || false;
                window.db.skin = oldData.skin || 'default';
                window.db.owned = oldData.owned || ['default'];
                window.db.promos = oldData.promos || [];
                window.db.userId = oldData.userId || window.generateNewUserId();
                window.db.avatarUrl = oldData.avatarUrl || null;
                window.db.warnings = oldData.warnings || 0;
                window.db.isBanned = oldData.isBanned || false;
                window.db.banReason = oldData.banReason || '';
                window.db.usedUnbanCodes = oldData.usedUnbanCodes || [];
                window.db.claimedRewards = oldData.claimedRewards || [];
                window.db.activeMultiplier = oldData.activeMultiplier || 1;
                window.db.bpLevelsClaimed = oldData.bpLevelsClaimed || [];
                window.db.rebirthCount = oldData.rebirthCount || 0;
                window.db.infiniteCoins = oldData.infiniteCoins || false;
                window.db.lastDailyReward = oldData.lastDailyReward || null;
                window.db.dailyRewardStreak = oldData.dailyRewardStreak || 0;
                window.db.dailyRewardsClaimed = oldData.dailyRewardsClaimed || 0;
                window.db.hasUltimateCoins = oldData.hasUltimateCoins || false;
                window.db.usedWaterAlison = oldData.usedWaterAlison || false;
                window.db.customId = oldData.customId || null;
                window.db.customIdColor = oldData.customIdColor || null;
                window.db.hasCustomIdPromo = oldData.hasCustomIdPromo || false;
                window.db.accountType = oldData.accountType || window.ACCOUNT_TYPES.NORMAL;
                window.db.idAnimation = oldData.idAnimation || null;
                window.db.idGlowColor = oldData.idGlowColor || null;
                window.db.idTextShadow = oldData.idTextShadow || null;
                window.db.idGradient = oldData.idGradient || null;
                window.db.isWaterAlison = oldData.isWaterAlison || false;
                window.db.waterAlisonId = oldData.waterAlisonId || null;
                window.db.creatorBadge = oldData.creatorBadge || false;
                window.db.officialAccount = oldData.officialAccount || false;
                window.db.isRenerlix = oldData.isRenerlix || false;
                window.db.renerlixId = oldData.renerlixId || null;
                
                localStorage.removeItem('cp_v101_final');
            } catch(e) {
                console.error('Error migrating save data:', e);
            }
        }
    };
    
    window.db = JSON.parse(localStorage.getItem('wp_v1_02')) || {
        version: '1.02',
        score: 0,
        coins: 0,
        ccoins: 0,
        clicks: 0,
        up: 1,
        plus: false,
        skin: 'default',
        owned: ['default'],
        promos: [],
        userId: null,
        avatarUrl: null,
        warnings: 0,
        isBanned: false,
        banReason: '',
        usedUnbanCodes: [],
        claimedRewards: [],
        activeMultiplier: 1,
        bpLevelsClaimed: [],
        rebirthCount: 0,
        infiniteCoins: false,
        lastDailyReward: null,
        dailyRewardStreak: 0,
        dailyRewardsClaimed: 0,
        hasUltimateCoins: false,
        usedWaterAlison: false,
        customId: null,
        customIdColor: null,
        hasCustomIdPromo: false,
        accountType: window.ACCOUNT_TYPES.NORMAL,
        idAnimation: null,
        idGlowColor: null,
        idTextShadow: null,
        idGradient: null,
        isWaterAlison: false,
        waterAlisonId: null,
        creatorBadge: false,
        officialAccount: false,
        isRenerlix: false,
        renerlixId: null,
        developerMenuUnlocked: false
    };
    
    if (!localStorage.getItem('wp_v1_02')) {
        window.migrateSaveData();
    }
    
    if (!window.db.userId) window.db.userId = window.generateNewUserId();
    if (!Array.isArray(window.db.usedUnbanCodes)) window.db.usedUnbanCodes = [];
    if (!Array.isArray(window.db.claimedRewards)) window.db.claimedRewards = [];
    if (!window.db.activeMultiplier) window.db.activeMultiplier = 1;
    if (!Array.isArray(window.db.bpLevelsClaimed)) window.db.bpLevelsClaimed = [];
    if (!window.db.rebirthCount) window.db.rebirthCount = 0;
    if (window.db.infiniteCoins === undefined) window.db.infiniteCoins = false;
    if (!window.db.lastDailyReward) window.db.lastDailyReward = null;
    if (!window.db.dailyRewardStreak) window.db.dailyRewardStreak = 0;
    if (!window.db.dailyRewardsClaimed) window.db.dailyRewardsClaimed = 0;
    if (window.db.hasUltimateCoins === undefined) window.db.hasUltimateCoins = false;
    if (window.db.usedWaterAlison === undefined) window.db.usedWaterAlison = false;
    if (window.db.customId === undefined) window.db.customId = null;
    if (window.db.customIdColor === undefined) window.db.customIdColor = null;
    if (window.db.hasCustomIdPromo === undefined) window.db.hasCustomIdPromo = false;
    if (window.db.accountType === undefined) window.db.accountType = window.ACCOUNT_TYPES.NORMAL;
    if (window.db.idAnimation === undefined) window.db.idAnimation = null;
    if (window.db.idGlowColor === undefined) window.db.idGlowColor = null;
    if (window.db.idTextShadow === undefined) window.db.idTextShadow = null;
    if (window.db.idGradient === undefined) window.db.idGradient = null;
    if (window.db.isWaterAlison === undefined) window.db.isWaterAlison = false;
    if (window.db.waterAlisonId === undefined) window.db.waterAlisonId = null;
    if (window.db.creatorBadge === undefined) window.db.creatorBadge = false;
    if (window.db.officialAccount === undefined) window.db.officialAccount = false;
    if (window.db.isRenerlix === undefined) window.db.isRenerlix = false;
    if (window.db.renerlixId === undefined) window.db.renerlixId = null;
    if (window.db.developerMenuUnlocked === undefined) window.db.developerMenuUnlocked = false;
    
    window.save = function() {
        window.db.version = '1.02';
        localStorage.setItem('wp_v1_02', JSON.stringify(window.db));
    };

    // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ ID —Å CSS —Å—Ç–∏–ª—è–º–∏
    window.getIdStyles = function() {
        if (window.db.isWaterAlison && window.db.waterAlisonId) {
            return {
                text: window.db.waterAlisonId,
                style: `
                    animation: water-alison-glow 2s ease-in-out infinite;
                    text-shadow: 0 0 20px #00ffff, 0 0 40px #0080ff, 0 0 60px #0040ff;
                    font-weight: 900;
                    background: linear-gradient(45deg, #00ffff, #0080ff, #0040ff);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-size: 300% 300%;
                    animation: water-alison-flow 3s ease-in-out infinite;
                `
            };
        }
        
        if (window.db.isRenerlix && window.db.renerlixId) {
            return {
                text: window.db.renerlixId,
                style: `
                    animation: renerlix-glow 2s ease-in-out infinite;
                    text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff1493, 0 0 60px #8b008b;
                    font-weight: 900;
                    background: linear-gradient(45deg, #ff00ff, #ff1493, #8b008b);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-size: 300% 300%;
                    animation: renerlix-flow 3s ease-in-out infinite;
                `
            };
        }
        
        if (!window.db.customId) return null;
        
        let style = '';
        
        if (window.db.idGradient) {
            style += `background: ${window.db.idGradient}; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-size: 200% 200%; `;
        }
        
        if (window.db.idAnimation) {
            style += `animation: ${window.db.idAnimation}; `;
        }
        
        if (window.db.idGlowColor) {
            style += `text-shadow: 0 0 10px ${window.db.idGlowColor}, 0 0 20px ${window.db.idGlowColor}, 0 0 30px ${window.db.idGlowColor}; `;
        }
        
        if (window.db.idTextShadow) {
            style += `text-shadow: ${window.db.idTextShadow}; `;
        }
        
        if (window.db.customIdColor === 'rainbow') {
            style = 'animation: rainbow-text 3s linear infinite; text-shadow: 0 0 5px currentColor; font-weight: 900;';
        }
        
        return {
            text: window.db.customId,
            style: style
        };
    };

    window.antiAutoClick = {
        clickHistory: [],
        lastClickTime: 0,
        sessionClicks: 0,
        sessionStart: Date.now(),
        isBlocked: false,
        enabled: true,
        settings: {
            maxCPS: 25,
            maxSessionClicks: 5000,
            sessionDuration: 300000,
            patternThreshold: 0.9,
            coolDownTime: 30000,
            minClickInterval: 20,
            maxWarnings: 3
        },
        
        init: function() {
            this.clickHistory = [];
            this.sessionStart = Date.now();
            this.sessionClicks = 0;
            this.isBlocked = false;
            this.enabled = !window.db.developerMenuUnlocked; // –û—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
            if (window.db.isBanned) {
                this.showPermanentBan();
                return false;
            }
            return true;
        },
        
        canClick: function(x, y) {
            if (!this.enabled) return true; // –ï—Å–ª–∏ –∞–Ω—Ç–∏—á–∏—Ç –æ—Ç–∫–ª—é—á–µ–Ω
            if (window.db.isBanned) return false;
            const now = Date.now();
            if (this.isBlocked) {
                if (now - this.lastClickTime < this.settings.coolDownTime) return false;
                this.isBlocked = false;
                this.sessionClicks = 0;
                this.sessionStart = now;
            }
            if (now - this.lastClickTime < this.settings.minClickInterval) return false;
            const clickData = { time: now, x: x, y: y, interval: this.lastClickTime ? now - this.lastClickTime : 0 };
            this.clickHistory.push(clickData);
            this.lastClickTime = now;
            this.sessionClicks++;
            if (this.clickHistory.length > 100) this.clickHistory.shift();
            if (this.clickHistory.length > 30 && this.detectPattern()) {
                this.giveWarning("–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∏–∫–∏");
                return false;
            }
            if (this.checkClickSpeed()) {
                this.giveWarning("–°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∫–ª–∏–∫–æ–≤");
                return false;
            }
            if (this.sessionClicks > this.settings.maxSessionClicks && (now - this.sessionStart) < this.settings.sessionDuration) {
                this.giveWarning("–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∫–ª–∏–∫–æ–≤ –∑–∞ —Å–µ—Å—Å–∏—é");
                return false;
            }
            return true;
        },
        
        checkClickSpeed: function() {
            if (this.clickHistory.length < 10) return false;
            const recentClicks = this.clickHistory.slice(-10);
            const firstTime = recentClicks[0].time;
            const lastTime = recentClicks[recentClicks.length - 1].time;
            const timeDiff = lastTime - firstTime;
            if (timeDiff < 1000) {
                const cps = (recentClicks.length / timeDiff) * 1000;
                if (cps > this.settings.maxCPS) return true;
            }
            return false;
        },
        
        detectPattern: function() {
            if (this.clickHistory.length < 30) return false;
            const intervals = [];
            const positions = [];
            for (let i = 1; i < this.clickHistory.length; i++) {
                intervals.push(this.clickHistory[i].interval);
                positions.push({ x: this.clickHistory[i].x, y: this.clickHistory[i].y });
            }
            const intervalPattern = this.checkRegularity(intervals);
            const positionPattern = this.checkPositionPattern(positions);
            return (intervalPattern && positionPattern);
        },
        
        checkRegularity: function(intervals) {
            if (intervals.length < 10) return false;
            let regularityScore = 0;
            const threshold = 10;
            for (let i = 1; i < intervals.length; i++) {
                if (Math.abs(intervals[i] - intervals[i-1]) < threshold) regularityScore++;
            }
            return (regularityScore / intervals.length) > this.settings.patternThreshold;
        },
        
        checkPositionPattern: function(positions) {
            if (positions.length < 10) return false;
            let patternScore = 0;
            const posThreshold = 5;
            for (let i = 1; i < positions.length; i++) {
                const dx = Math.abs(positions[i].x - positions[i-1].x);
                const dy = Math.abs(positions[i].y - positions[i-1].y);
                if (dx < posThreshold && dy < posThreshold) patternScore++;
            }
            return (patternScore / positions.length) > this.settings.patternThreshold;
        },
        
        giveWarning: function(reason) {
            this.isBlocked = true;
            this.lastClickTime = Date.now();
            window.db.warnings++;
            window.save();
            if (window.db.warnings >= this.settings.maxWarnings) {
                this.banPermanently("–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª (–∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä)");
                return;
            }
            this.showWarning(reason, window.db.warnings);
        },
        
        banPermanently: function(reason) {
            window.db.isBanned = true;
            window.db.banReason = reason;
            window.save();
            this.showPermanentBan();
        },
        
        showWarning: function(reason, warningNumber) {
            const warning = document.createElement('div');
            warning.className = 'anti-click-warning';
            warning.innerHTML = `<div class="warning-content">
                <div class="warning-icon">‚ö†Ô∏è</div>
                <div class="warning-text">
                    <strong>–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï ${warningNumber}/${this.settings.maxWarnings}</strong><br>
                    ${reason}<br>
                    <small>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞: 30 —Å–µ–∫—É–Ω–¥</small><br>
                    <small>–ü–æ—Å–ª–µ ${this.settings.maxWarnings} –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π - –≤–µ—á–Ω—ã–π –±–∞–Ω!</small>
                </div>
            </div>`;
            document.body.appendChild(warning);
            setTimeout(() => {
                if (warning.parentNode) {
                    warning.style.opacity = '0';
                    setTimeout(() => warning.remove(), 300);
                }
            }, 5000);
        },
        
        showPermanentBan: function() {
            const banScreen = document.createElement('div');
            banScreen.className = 'permanent-ban-screen';
            banScreen.innerHTML = `<div class="ban-content">
                <div class="ban-icon">üö´</div>
                <div class="ban-title">–ê–ö–ö–ê–£–ù–¢ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù</div>
                <div class="ban-reason">–ü—Ä–∏—á–∏–Ω–∞: ${window.db.banReason}</div>
                <div class="ban-unban-section">
                    <input type="text" id="unban-code-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏" class="unban-input">
                    <button onclick="window.checkUnbanCode()" class="unban-btn">–†–ê–ó–ë–õ–û–ö–ò–†–û–í–ê–¢–¨</button>
                </div>
                <div class="ban-details">
                    ID: ${window.db.customId || window.db.userId}<br>
                    <small>–î–æ—Å—Ç—É–ø–Ω–æ ${window.UNBAN_CODES.length} —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤</small>
                </div>
            </div>`;
            document.body.appendChild(banScreen);
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
        },
        
        resetSession: function() {
            this.sessionClicks = Math.floor(this.sessionClicks / 2);
            this.sessionStart = Date.now();
            this.clickHistory = [];
        },
        
        toggle: function(enabled) {
            this.enabled = enabled;
            if (!enabled) {
                alert('‚ö†Ô∏è –ê–Ω—Ç–∏-–∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä –æ—Ç–∫–ª—é—á–µ–Ω! –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω.');
            }
        }
    };
    
    window.checkUnbanCode = function() {
        const input = document.getElementById('unban-code-input');
        const code = input.value.trim();
        if (!code) {
            alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥');
            return;
        }
        if (window.db.usedUnbanCodes.includes(code)) {
            alert('–ö–æ–¥ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω');
            return;
        }
        if (window.UNBAN_CODES.includes(code)) {
            window.db.isBanned = false;
            window.db.warnings = 0;
            window.db.banReason = '';
            window.db.usedUnbanCodes.push(code);
            window.save();
            const banScreen = document.querySelector('.permanent-ban-screen');
            if (banScreen) banScreen.remove();
            window.showScreen('main-screen');
            window.updateUI();
            alert('–ê–∫–∫–∞—É–Ω—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω! –î–æ—Å—Ç—É–ø–Ω–æ –∫–æ–¥–æ–≤: ' + (window.UNBAN_CODES.length - window.db.usedUnbanCodes.length));
        } else {
            alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥. –î–æ—Å—Ç—É–ø–Ω–æ ' + window.UNBAN_CODES.length + ' —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤');
        }
    };
    
    window.checkDailyReward = function() {
        const now = new Date();
        const today = now.toDateString();
        const lastClaimed = window.db.lastDailyReward;
        
        if (lastClaimed === today) {
            return {
                available: false,
                streak: window.db.dailyRewardStreak,
                message: "–í—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –Ω–∞–≥—Ä–∞–¥—É —Å–µ–≥–æ–¥–Ω—è. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∑–∞–≤—Ç—Ä–∞!"
            };
        }
        
        const yesterday = new Date(now);
        yesterday.setDate(yesterday.getDate() - 1);
        const yesterdayStr = yesterday.toDateString();
        
        if (!lastClaimed || lastClaimed === yesterdayStr) {
            window.db.dailyRewardStreak++;
        } else {
            window.db.dailyRewardStreak = 1;
        }
        
        window.db.lastDailyReward = today;
        window.db.dailyRewardsClaimed++;
        
        const rewards = [
            { type: 'coins', amount: 10000, message: "üéâ +10,000 –º–æ–Ω–µ—Ç!" },
            { type: 'coins', amount: 50000, message: "üéâ +50,000 –º–æ–Ω–µ—Ç!" },
            { type: 'coins', amount: 100000, message: "üéâ +100,000 –º–æ–Ω–µ—Ç!" },
            { type: 'ccoins', amount: 10, message: "üíé +10 –∞–ª–º–∞–∑–æ–≤!" },
            { type: 'ccoins', amount: 25, message: "üíé +25 –∞–ª–º–∞–∑–æ–≤!" },
            { type: 'ccoins', amount: 50, message: "üíé +50 –∞–ª–º–∞–∑–æ–≤!" },
            { type: 'score', amount: 5000, message: "‚ú® +5,000 –æ—á–∫–æ–≤!" },
            { type: 'score', amount: 25000, message: "‚ú® +25,000 –æ—á–∫–æ–≤!" },
            { type: 'skin', skin: 'random', message: "üé® –°–ª—É—á–∞–π–Ω—ã–π —Å–∫–∏–Ω!" },
            { type: 'multiplier', amount: 1.5, duration: 3600000, message: "‚ö° x1.5 –º–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–∞ 1 —á–∞—Å!" }
        ];
        
        const reward = rewards[Math.floor(Math.random() * rewards.length)];
        
        let finalMessage = reward.message;
        
        switch(reward.type) {
            case 'coins':
                window.db.coins += reward.amount;
                break;
            case 'ccoins':
                window.db.ccoins += reward.amount;
                break;
            case 'score':
                window.db.score += reward.amount;
                break;
            case 'skin':
                const availableSkins = window.SKINS.filter(s => 
                    !window.db.owned.includes(s.id) && 
                    !s.bpOnly && 
                    !s.rebirthSkin && 
                    s.price > 0 && 
                    s.price < 5000
                );
                if (availableSkins.length > 0) {
                    const skin = availableSkins[Math.floor(Math.random() * availableSkins.length)];
                    window.db.owned.push(skin.id);
                    finalMessage = `üé® –í—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–∫–∏–Ω: ${skin.name}!`;
                } else {
                    window.db.coins += 50000;
                    finalMessage = "üí∞ +50,000 –º–æ–Ω–µ—Ç (–≤–º–µ—Å—Ç–æ —Å–∫–∏–Ω–∞)!";
                }
                break;
            case 'multiplier':
                window.db.activeMultiplier = reward.amount;
                setTimeout(() => {
                    if (window.db.activeMultiplier === reward.amount) {
                        window.db.activeMultiplier = 1;
                        window.save();
                        window.updateUI();
                    }
                }, reward.duration);
                break;
        }
        
        window.save();
        window.updateUI();
        
        return {
            available: true,
            streak: window.db.dailyRewardStreak,
            message: `üéÅ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞ (—Å–µ—Ä–∏—è: ${window.db.dailyRewardStreak} –¥–Ω–µ–π)\n${finalMessage}`
        };
    };
    
    window.openDailyReward = function() {
        const result = window.checkDailyReward();
        if (result.available) {
            alert(result.message);
        } else {
            alert(result.message);
        }
    };
    
    window.canSpendCoins = function(amount) {
        if (window.db.hasUltimateCoins) {
            if (window.db.coins - amount < 100000000000000) {
                window.db.coins = Math.max(100000000000000, window.db.coins - amount);
            } else {
                window.db.coins -= amount;
            }
            return true;
        }
        if (window.db.infiniteCoins) {
            return true;
        }
        return window.db.coins >= amount;
    };
    
    window.getRanks = function() {
        const c = Number(window.db.score);
        if (c >= 25000000) return { name: '–ß–ï–ú–ü–ò–û–ù', icon: 'üèÜ', color: '#ff00ff', glow: '0 0 30px #ff00ff' };
        if (c >= 10000000) return { name: '–ú–ê–°–¢–ï–†', icon: 'üî±', color: '#ff8c00', glow: '0 0 25px #ff8c00' };
        if (c >= 5000000) return { name: '–≠–ö–°–ü–ï–†–¢', icon: 'üíé', color: '#00bfff', glow: '0 0 20px #00bfff' };
        if (c >= 50000) return { name: '–ê–õ–ú–ê–ó', icon: 'üí†', color: '#00ffff', glow: '0 0 15px #00ffff' };
        if (c >= 1000000) return { name: '–ë–ï–ó–£–ú–ù–´–ô', icon: 'ü§™', color: '#ff00ff' };
        if (c >= 150000) return { name: '–õ–ï–ì–ï–ù–î–ê', icon: 'üëë', color: '#ff4757' };
        if (c >= 75000) return { name: '–ü–õ–ê–¢–ò–ù–ê', icon: 'üõ°Ô∏è', color: '#eccc68' };
        if (c >= 20000) return { name: '–§–ï–ù–ò–ö–°', icon: 'üî•', color: '#ff7f00' };
        if (c >= 10000) return { name: '–ó–û–õ–û–¢–û', icon: 'ü•á', color: '#ffa502' };
        if (c >= 5000) return { name: '–°–ï–†–ï–ë–†–û', icon: 'ü•à', color: '#ced6e0' };
        if (c >= 1000) return { name: '–ë–†–û–ù–ó–ê', icon: 'ü•â', color: '#a29bfe' };
        if (c >= 500) return { name: '–ü–†–û', icon: '‚ö°', color: '#2ecc71' };
        if (c >= 100) return { name: '–ù–£–ë', icon: 'ü§°', color: '#7bed9f' };
        return { name: '–ù–û–í–ò–ß–û–ö', icon: 'üë∂', color: '#70a1ff' };
    };

    window.toggleTheme = function() {
        const body = document.body;
        const next = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        body.setAttribute('data-theme', next);
        localStorage.setItem('cp_theme', next);
    };

    window.toggleMusic = function() {
        const m = document.getElementById('bg-music');
        if (m.paused) m.play().catch(() => {});
        else m.pause();
    };

    window.updateUI = function() {
        if (window.db.isBanned) {
            document.getElementById('click-button').style.display = 'none';
            document.querySelectorAll('.btn-action').forEach(btn => btn.style.display = 'none');
            return;
        }
        document.getElementById('score').textContent = Number(window.db.score).toLocaleString();
        
        if (window.db.hasUltimateCoins) {
            document.getElementById('coins').textContent = '999...';
            document.getElementById('coins').style.color = '#ff00ff';
            document.getElementById('coins').style.fontWeight = '900';
            document.getElementById('coins').style.textShadow = '0 0 10px #ff00ff, 0 0 20px #ff00ff';
            document.getElementById('coins').style.fontSize = '24px';
            document.getElementById('infinite-mode').style.display = 'block';
            document.getElementById('infinite-mode').innerHTML = '<div class="ultimate-notice">‚ö° ULTIMATE –†–ï–ñ–ò–ú –ê–ö–¢–ò–í–ò–†–û–í–ê–ù</div>';
        } else if (window.db.infiniteCoins) {
            document.getElementById('coins').textContent = '‚àû';
            document.getElementById('coins').style.color = '#00ff00';
            document.getElementById('coins').style.fontWeight = '900';
            document.getElementById('coins').style.textShadow = '0 0 10px #00ff00';
            document.getElementById('infinite-mode').style.display = 'block';
            document.getElementById('infinite-mode').innerHTML = '<div class="infinite-notice">‚ôæÔ∏è –†–ï–ñ–ò–ú –ë–ï–°–ö–û–ù–ï–ß–ù–´–• –ú–û–ù–ï–¢</div>';
        } else {
            document.getElementById('coins').textContent = Number(window.db.coins).toLocaleString();
            document.getElementById('coins').style.color = 'orange';
            document.getElementById('coins').style.fontWeight = 'normal';
            document.getElementById('coins').style.textShadow = 'none';
            document.getElementById('coins').style.fontSize = '';
            document.getElementById('infinite-mode').style.display = 'none';
        }
        
        document.getElementById('ccoins').textContent = Number(window.db.ccoins).toLocaleString();
        document.getElementById('rebirth-count').textContent = window.db.rebirthCount;
        document.getElementById('rebirth-count-profile').textContent = window.db.rebirthCount;
        
        document.getElementById('daily-reward-count').textContent = window.db.dailyRewardsClaimed;
        document.getElementById('daily-reward-streak').textContent = window.db.dailyRewardStreak;
        
        const upCost = window.getUpgradeCost();
        if (window.db.up >= 35) {
            document.getElementById('up-btn').textContent = "–ú–ê–ö–° –£–†–û–í–ï–ù–¨ 35";
        } else {
            document.getElementById('up-btn').textContent = `–£–ª—É—á—à–∏—Ç—å –¥–æ ${window.db.up + 1} —É—Ä–æ–≤–Ω—è –∑–∞ ${upCost.toLocaleString()} üí∞`;
        }
        
        const rank = window.getRanks();
        const rEl = document.getElementById('rank-display');
        rEl.innerHTML = `${rank.icon} ${rank.name}`;
        rEl.style.color = rank.color;
        if (rank.glow) {
            rEl.style.textShadow = rank.glow;
            rEl.style.fontWeight = '900';
            rEl.style.animation = 'pulse 2s infinite';
        } else {
            rEl.style.textShadow = 'none';
            rEl.style.animation = 'none';
        }
        
        const sk = window.SKINS.find(x => x.id === window.db.skin) || window.SKINS[0];
        
        const clickButton = document.getElementById('click-button');
        clickButton.classList.remove('unicorn-button', 'waterfall-button', 'electrons-button', 'cloud-button', 'undead-desert-button', 'winter-snowflake-button', 'rainbow-button', 'checker-button', 'white-crown-button', 'golden-crown-button', 'alastor-button');
        
        if (window.db.skin === 'unicorn') {
            clickButton.classList.add('unicorn-button');
        } else if (window.db.skin === 'waterfall') {
            clickButton.classList.add('waterfall-button');
        } else if (window.db.skin === 'electrons') {
            clickButton.classList.add('electrons-button');
        } else if (window.db.skin === 'cloud') {
            clickButton.classList.add('cloud-button');
        } else if (window.db.skin === 'undead_desert') {
            clickButton.classList.add('undead-desert-button');
        } else if (window.db.skin === 'winter_snowflake') {
            clickButton.classList.add('winter-snowflake-button');
        } else if (window.db.skin === 'rainbow') {
            clickButton.classList.add('rainbow-button');
        } else if (window.db.skin === 'checker') {
            clickButton.classList.add('checker-button');
        } else if (window.db.skin === 'white_crown') {
            clickButton.classList.add('white-crown-button');
        } else if (window.db.skin === 'golden_crown') {
            clickButton.classList.add('golden-crown-button');
        } else if (window.db.skin === 'alastor') {
            clickButton.classList.add('alastor-button');
            clickButton.style.backgroundImage = 'url(https://avatars.mds.yandex.net/i?id=1083fea1e68788715d2fe4ce944f1bc8_l-10933535-images-thumbs&n=13)';
            clickButton.style.backgroundSize = 'cover';
        } else {
            clickButton.style.background = sk.color;
            clickButton.style.backgroundImage = 'none';
        }
        
        const lvl = Math.floor(Number(window.db.clicks) / 1500);
        const prog = Number(window.db.clicks) % 1500;
        document.getElementById('bp-bar-fill').style.width = (prog / 15) + '%';
        document.getElementById('bp-lvl-display').textContent = lvl;
        document.getElementById('bp-prog-text').textContent = prog;
        
        const userIdElement = document.getElementById('profile-user-id');
        const idStyles = window.getIdStyles();
        
        if (idStyles) {
            userIdElement.innerHTML = `<span style="${idStyles.style}">${idStyles.text}</span>`;
        } else if (window.db.customId) {
            userIdElement.textContent = window.db.customId;
            userIdElement.style.color = window.db.customIdColor || '';
            userIdElement.style.textShadow = '';
            userIdElement.style.animation = '';
        } else {
            userIdElement.textContent = window.db.userId;
            userIdElement.style.color = '';
            userIdElement.style.textShadow = '';
            userIdElement.style.animation = '';
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–µ–π–¥–∂–∏
        if (window.db.accountType === window.ACCOUNT_TYPES.DEVELOPER || window.db.creatorBadge) {
            userIdElement.innerHTML += ' üõ†Ô∏è';
        }
        if (window.db.officialAccount) {
            userIdElement.innerHTML += ' ‚úÖ';
        }
        if (window.db.developerMenuUnlocked) {
            userIdElement.innerHTML += ' ‚öôÔ∏è';
        }
        
        const avatarElement = document.getElementById('profile-avatar');
        if (window.db.avatarUrl) {
            avatarElement.innerHTML = `<img src="${window.db.avatarUrl}" alt="–ê–≤–∞—Ç–∞—Ä" style="width:100%; height:100%; border-radius:50%; object-fit:cover;">`;
        } else {
            avatarElement.textContent = 'üë§';
        }
        if (window.antiAutoClick.isBlocked && window.antiAutoClick.enabled) {
            document.getElementById('click-button').style.opacity = '0.5';
            document.getElementById('click-button').style.cursor = 'not-allowed';
        } else {
            document.getElementById('click-button').style.opacity = '1';
            document.getElementById('click-button').style.cursor = 'pointer';
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –º–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –µ—Å–ª–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
        const profileScreen = document.getElementById('profile-screen');
        const existingDevBtn = document.querySelector('.developer-menu-btn');
        if (window.db.developerMenuUnlocked && !existingDevBtn) {
            const devBtn = document.createElement('button');
            devBtn.className = 'btn-action developer-menu-btn';
            devBtn.style.background = '#ff00ff';
            devBtn.style.color = 'white';
            devBtn.style.marginTop = '10px';
            devBtn.innerHTML = '‚öôÔ∏è –ú–ï–ù–Æ –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê';
            devBtn.onclick = window.openDeveloperMenu;
            profileScreen.querySelector('.main-card').appendChild(devBtn);
        } else if (!window.db.developerMenuUnlocked && existingDevBtn) {
            existingDevBtn.remove();
        }
    };

    window.getUpgradeCost = function() {
        const level = window.db.up;
        if (level >= 35) return 0;
        
        if (level < 5) return level * 500;
        if (level === 5) return 100000;
        if (level === 6) return 1000000;
        if (level === 7) return 5000000;
        
        const costs = {
            8: 10000000,
            9: 20000000,
            10: 30000000,
            11: 40000000,
            12: 50000000,
            13: 75000000,
            14: 100000000,
            15: 150000000,
            16: 200000000,
            17: 300000000,
            18: 400000000,
            19: 500000000,
            20: 750000000,
            21: 1000000000,
            22: 1500000000,
            23: 2000000000,
            24: 3000000000,
            25: 4000000000,
            26: 5000000000,
            27: 7500000000,
            28: 10000000000,
            29: 15000000000,
            30: 20000000000,
            31: 30000000000,
            32: 40000000000,
            33: 50000000000,
            34: 75000000000
        };
        
        return costs[level] || 0;
    };

    window.doClick = function(e) {
        if(e) e.preventDefault();
        if (window.db.isBanned) return;
        const cx = e.clientX || (e.touches ? e.touches[0].clientX : window.innerWidth/2);
        const cy = e.clientY || (e.touches ? e.touches[0].clientY : window.innerHeight/2);
        if (!window.antiAutoClick.canClick(cx, cy)) {
            const blockAnim = document.createElement('div');
            blockAnim.className = 'click-anim';
            blockAnim.textContent = 'üö´';
            blockAnim.style.color = '#ff4757';
            blockAnim.style.left = cx + 'px';
            blockAnim.style.top = cy + 'px';
            document.body.appendChild(blockAnim);
            setTimeout(() => blockAnim.remove(), 600);
            return;
        }
        let baseP = window.db.up;
        
        if (window.db.up >= 8) {
            baseP = 50 + (window.db.up - 8) * 10;
            if (window.db.up >= 15) baseP = 120 + (window.db.up - 15) * 20;
            if (window.db.up >= 18) baseP = 180 + (window.db.up - 18) * 30;
            if (window.db.up >= 25) baseP = 300 + (window.db.up - 25) * 40;
            if (window.db.up >= 30) baseP = 500 + (window.db.up - 30) * 50;
        } else if (window.db.up === 7) baseP = 45;
        else if (window.db.up === 6) baseP = 25;
        else if (window.db.up === 5) baseP = 10;
        
        const multiplier = window.db.activeMultiplier;
        const finalP = Math.floor(baseP * multiplier);
        
        window.db.score += finalP;
        
        if (!window.db.infiniteCoins && !window.db.hasUltimateCoins) {
            window.db.coins += finalP;
        }
        
        window.db.clicks += baseP;
        
        if (window.db.skin === 'electrons') {
            const electron = document.createElement('div');
            electron.className = 'electron-anim';
            electron.style.left = cx + 'px';
            electron.style.top = cy + 'px';
            electron.style.width = '30px';
            electron.style.height = '30px';
            electron.style.background = 'radial-gradient(circle, #00b4ff, #0080ff)';
            electron.style.boxShadow = '0 0 20px #00b4ff, 0 0 40px #0080ff';
            document.body.appendChild(electron);
            setTimeout(() => electron.remove(), 800);
        }
        
        if (window.db.skin === 'undead_desert') {
            for(let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const sand = document.createElement('div');
                    sand.className = 'sand-anim';
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 50 + Math.random() * 100;
                    sand.style.left = cx + 'px';
                    sand.style.top = cy + 'px';
                    sand.style.width = '10px';
                    sand.style.height = '10px';
                    sand.style.background = 'radial-gradient(circle, #d2691e, #8b4513)';
                    sand.style.borderRadius = '50%';
                    sand.style.boxShadow = '0 0 10px #d2691e';
                    document.body.appendChild(sand);
                    
                    setTimeout(() => {
                        sand.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                        sand.style.opacity = '0';
                    }, 10);
                    
                    setTimeout(() => {
                        if (sand.parentNode) sand.remove();
                    }, 600);
                }, i * 50);
            }
        }
        
        if (window.db.skin === 'winter_snowflake') {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake-anim';
            snowflake.style.left = cx + 'px';
            snowflake.style.top = cy + 'px';
            snowflake.style.fontSize = '24px';
            snowflake.textContent = '‚ùÑÔ∏è';
            document.body.appendChild(snowflake);
            setTimeout(() => snowflake.remove(), 800);
        }
        
        if (window.db.skin === 'rainbow') {
            const rainbow = document.createElement('div');
            rainbow.className = 'rainbow-anim';
            rainbow.style.left = cx + 'px';
            rainbow.style.top = cy + 'px';
            rainbow.style.width = '40px';
            rainbow.style.height = '40px';
            rainbow.style.background = 'linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)';
            rainbow.style.borderRadius = '50%';
            rainbow.style.boxShadow = '0 0 25px rgba(255, 0, 0, 0.5)';
            document.body.appendChild(rainbow);
            setTimeout(() => rainbow.remove(), 800);
        }
        
        if (window.db.skin === 'checker') {
            const checker = document.createElement('div');
            checker.className = 'checker-anim';
            checker.style.left = cx + 'px';
            checker.style.top = cy + 'px';
            checker.style.width = '35px';
            checker.style.height = '35px';
            checker.style.background = 'repeating-linear-gradient(45deg, #000000, #000000 5px, #ffffff 5px, #ffffff 10px)';
            checker.style.borderRadius = '50%';
            checker.style.boxShadow = '0 0 20px rgba(0, 0, 0, 0.8)';
            document.body.appendChild(checker);
            setTimeout(() => checker.remove(), 800);
        }
        
        if (window.db.skin === 'alastor') {
            const demon = document.createElement('div');
            demon.className = 'demon-anim';
            demon.style.left = cx + 'px';
            demon.style.top = cy + 'px';
            demon.style.fontSize = '30px';
            demon.textContent = 'üòà';
            demon.style.textShadow = '0 0 20px #ff0000';
            document.body.appendChild(demon);
            setTimeout(() => demon.remove(), 800);
        }
        
        const a = document.createElement('div');
        a.className = 'click-anim';
        a.textContent = `+${finalP}`;
        a.style.color = 'var(--primary)';
        a.style.fontSize = '30px';
        a.style.textShadow = 'none';
        a.style.left = cx + 'px';
        a.style.top = cy + 'px';
        document.body.appendChild(a);
        setTimeout(() => a.remove(), 600);
        window.save();
        window.updateUI();
    };

    window.showScreen = function(id) {
        if (window.db.isBanned && id !== 'profile-screen') return;
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'bp-screen') window.renderBP();
        if(id === 'skin-screen') window.renderSkins();
        if(id === 'profile-screen') window.renderProfile();
        if(id === 'exchange-screen') window.renderExchange();
        if(id === 'daily-reward-screen') window.renderDailyReward();
        if (id !== 'main-screen') window.antiAutoClick.resetSession();
    };

    window.renderBP = function() {
        const list = document.getElementById('bp-list');
        const curLvl = Math.floor(Number(window.db.clicks) / 1500);
        let html = '';
        for(let i = 1; i <= 500; i++) {
            const isReached = i <= curLvl;
            const isClaimedFree = window.db.bpLevelsClaimed.includes(`free_${i}`);
            const isClaimedPremium = window.db.bpLevelsClaimed.includes(`premium_${i}`);
            const canClaimFree = isReached && !isClaimedFree;
            const canClaimPremium = isReached && window.db.plus && !isClaimedPremium;
            
            let freeRewardText = '';
            let freeRewardIcon = '';
            
            if (i === 500) {
                freeRewardText = '–ë–ï–õ–ê–Ø –ö–û–†–û–ù–ê';
                freeRewardIcon = 'üëë';
            } else if (i === 250) {
                freeRewardText = '–ü–£–°–¢–´–®–¨';
                freeRewardIcon = 'üèúÔ∏è';
            } else if (i % 50 === 0) {
                freeRewardText = '25';
                freeRewardIcon = 'üíé';
            } else if (i % 10 === 0) {
                freeRewardText = '1000';
                freeRewardIcon = 'üí∞';
            } else {
                freeRewardText = '500';
                freeRewardIcon = 'üí∞';
            }
            
            let premiumRewardText = '';
            let premiumRewardIcon = '';
            
            if (i === 500) {
                premiumRewardText = '–ë–ï–õ–ê–Ø –ö–û–†–û–ù–ê';
                premiumRewardIcon = 'üëë';
            } else if (i === 250) {
                premiumRewardText = '–ü–£–°–¢–´–®–¨';
                premiumRewardIcon = 'üèúÔ∏è';
            } else if (i % 25 === 0) {
                premiumRewardText = '50';
                premiumRewardIcon = 'üíé';
            } else if (i % 5 === 0) {
                premiumRewardText = '5000';
                premiumRewardIcon = 'üí∞';
            } else {
                premiumRewardText = '20';
                premiumRewardIcon = 'üíé';
            }
            
            html += `<div class="bp-level-row">
                <div class="bp-reward-card ${isReached ? '' : 'locked'} ${isClaimedFree ? 'claimed' : ''}"
                     onclick="${canClaimFree ? `window.claimBPReward(${i}, 'free')` : ''}">
                    ${isClaimedFree ? '‚úÖ' : freeRewardIcon} ${freeRewardText}
                </div>
                <div class="bp-level-circle" onclick="${canClaimFree ? `window.claimBPReward(${i}, 'free')` : ''}">${i}</div>
                <div class="bp-reward-card premium ${isReached && window.db.plus ? '' : 'locked'} ${isClaimedPremium ? 'claimed' : ''}"
                     onclick="${canClaimPremium ? `window.claimBPReward(${i}, 'premium')` : ''}">
                    ${isClaimedPremium ? '‚úÖ' : premiumRewardIcon} ${premiumRewardText}
                </div>
            </div>`;
        }
        list.innerHTML = html;
        
        const buttonsContainer = document.querySelector('#bp-screen .main-card > div:last-child');
        if (window.db.plus) {
            buttonsContainer.innerHTML = `<div style="display: flex; justify-content: center; gap: 10px; margin-top: 15px;">
                <button class="btn-action" style="background:var(--ccoin); color:black; width: 100%; max-width: 200px;" onclick="window.buyLevel()">–ö–£–ü–ò–¢–¨ –£–†–û–í–ï–ù–¨ (30 üíé)</button>
            </div>`;
        } else {
            buttonsContainer.innerHTML = `<div style="display: flex; gap: 10px; margin-top: 15px;">
                <button class="btn-action" style="background:gold; color:black; flex: 1;" onclick="window.buyPlus()">–ö–£–ü–ò–¢–¨ –ë–ü+ (799 üíé)</button>
                <button class="btn-action" style="background:var(--ccoin); color:black; flex: 1;" onclick="window.buyLevel()">–ö–£–ü–ò–¢–¨ –£–†–û–í–ï–ù–¨ (30 üíé)</button>
            </div>`;
        }
    };

    window.renderDailyReward = function() {
        const now = new Date();
        const today = now.toDateString();
        const lastClaimed = window.db.lastDailyReward;
        const canClaim = lastClaimed !== today;
        
        let html = `<div class="main-card">
            <div style="font-size: 60px; margin-bottom: 10px;">üéÅ</div>
            <h3>–ï–ñ–ï–î–ù–ï–í–ù–´–ï –ù–ê–ì–†–ê–î–´</h3>
            
            <div class="reward-info">
                <div class="reward-stat">
                    <div class="reward-label">–°–µ—Ä–∏—è:</div>
                    <div class="reward-value">${window.db.dailyRewardStreak} –¥–Ω–µ–π</div>
                </div>
                <div class="reward-stat">
                    <div class="reward-label">–í—Å–µ–≥–æ –Ω–∞–≥—Ä–∞–¥:</div>
                    <div class="reward-value">${window.db.dailyRewardsClaimed}</div>
                </div>
            </div>
            
            <div class="reward-status ${canClaim ? 'available' : 'claimed'}">
                ${canClaim ? 'üéâ –ù–∞–≥—Ä–∞–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞!' : '‚úÖ –£–∂–µ –ø–æ–ª—É—á–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è'}
            </div>
            
            <p style="margin: 15px 0; font-size: 14px; opacity: 0.8;">
                –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É:<br>
                üí∞ –ú–æ–Ω–µ—Ç—ã ‚Ä¢ üíé –ê–ª–º–∞–∑—ã ‚Ä¢ ‚ú® –û—á–∫–∏ ‚Ä¢ üé® –°–∫–∏–Ω—ã ‚Ä¢ ‚ö° –ú–Ω–æ–∂–∏—Ç–µ–ª–∏
            </p>
            
            <button class="btn-action ${canClaim ? 'reward-available' : 'reward-claimed'}" 
                    onclick="${canClaim ? 'window.openDailyReward()' : ''}"
                    ${!canClaim ? 'disabled' : ''}>
                ${canClaim ? '–ü–û–õ–£–ß–ò–¢–¨ –ù–ê–ì–†–ê–î–£' : '–£–ñ–ï –ü–û–õ–£–ß–ï–ù–û'}
            </button>
        </div>`;
        
        document.getElementById('daily-reward-content').innerHTML = html;
    };

    window.claimBPReward = function(level, type) {
        const curLvl = Math.floor(Number(window.db.clicks) / 1500);
        if (level > curLvl) return;
        const rewardId = `${type}_${level}`;
        if (window.db.bpLevelsClaimed.includes(rewardId)) return;
        if (type === 'premium' && !window.db.plus) return;
        
        if (type === 'free') {
            if (level === 500 || level === 250) {
                const skinId = level === 500 ? 'white_crown' : 'undead_desert';
                if (!window.db.owned.includes(skinId)) {
                    window.db.owned.push(skinId);
                    alert(`üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–∫–∏–Ω "${skinId === 'white_crown' ? 'üëë –ë–µ–ª–∞—è –ö–æ—Ä–æ–Ω–∞' : '–ü–£–°–¢–´–®–¨'}!`);
                }
            } else if (level % 50 === 0) {
                window.db.ccoins += 25;
            } else if (level % 10 === 0) {
                window.db.coins += 1000;
            } else {
                window.db.coins += 500;
            }
        } else if (type === 'premium') {
            if (level === 500 || level === 250) {
                const skinId = level === 500 ? 'white_crown' : 'undead_desert';
                if (!window.db.owned.includes(skinId)) {
                    window.db.owned.push(skinId);
                    alert(`üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–∫–∏–Ω "${skinId === 'white_crown' ? 'üëë –ë–µ–ª–∞—è –ö–æ—Ä–æ–Ω–∞' : '–ü–£–°–¢–´–®–¨'}!`);
                }
            } else if (level % 25 === 0) {
                window.db.ccoins += 50;
            } else if (level % 5 === 0) {
                window.db.coins += 5000;
            } else {
                window.db.ccoins += 20;
            }
        }
        window.db.bpLevelsClaimed.push(rewardId);
        window.save();
        window.updateUI();
        window.renderBP();
    };

    window.renderSkins = function() {
        const l = document.getElementById('skin-list');
        let html = '';
        window.SKINS.forEach(s => {
            const has = window.db.owned.includes(s.id);
            const act = window.db.skin === s.id;
            const isUnicorn = s.id === 'unicorn';
            const isWinterLord = s.id === 'winter_lord';
            const isUndeadDesert = s.id === 'undead_desert';
            const isWaterfall = s.id === 'waterfall';
            const isElectrons = s.id === 'electrons';
            const isCloud = s.id === 'cloud';
            const isWinterSnowflake = s.id === 'winter_snowflake';
            const isRainbow = s.id === 'rainbow';
            const isChecker = s.id === 'checker';
            const isWhiteCrown = s.id === 'white_crown';
            const isGoldenCrown = s.id === 'golden_crown';
            const isAlastor = s.id === 'alastor';
            
            let canBuy = true;
            let buttonText = '';
            
            if (isWinterSnowflake) {
                if (window.db.rebirthCount >= 3) {
                    if (has) {
                        buttonText = act ? '–ê–ö–¢.' : '–í–´–ë–û–†';
                    } else {
                        canBuy = false;
                        buttonText = '–ü–û–°–õ–ï 3 –ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ô';
                    }
                } else {
                    canBuy = false;
                    buttonText = `–ù–£–ñ–ù–û ${3 - window.db.rebirthCount} –ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ô`;
                }
            } else if (isGoldenCrown) {
                if (window.db.rebirthCount >= 10) {
                    if (has) {
                        buttonText = act ? '–ê–ö–¢.' : '–í–´–ë–û–†';
                    } else {
                        canBuy = false;
                        buttonText = '–ü–û–°–õ–ï 10 –ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ô';
                    }
                } else {
                    canBuy = false;
                    buttonText = `–ù–£–ñ–ù–û ${10 - window.db.rebirthCount} –ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ô`;
                }
            } else if (isWinterLord || isUndeadDesert || isWhiteCrown) {
                canBuy = has;
                buttonText = !has ? '–¢–û–õ–¨–ö–û –ë–ü' : (act ? '–ê–ö–¢.' : '–í–´–ë–û–†');
            } else if (isAlastor) {
                canBuy = true;
                buttonText = act ? '–ê–ö–¢.' : (has ? '–í–´–ë–û–†' : '100,000 üíé');
            } else if (isRainbow || isChecker) {
                canBuy = true;
                buttonText = act ? '–ê–ö–¢.' : (has ? '–í–´–ë–û–†' : '12,000 üíé');
            } else {
                canBuy = true;
                buttonText = act ? '–ê–ö–¢.' : (has ? '–í–´–ë–û–†' : s.price + ' üíé');
            }
            
            let previewClass = '';
            if (isUnicorn) previewClass = 'unicorn-preview';
            else if (isWaterfall) previewClass = 'waterfall-preview';
            else if (isElectrons) previewClass = 'electrons-preview';
            else if (isCloud) previewClass = 'cloud-preview';
            else if (isUndeadDesert) previewClass = 'undead-desert-preview';
            else if (isWinterSnowflake) previewClass = 'winter-snowflake-preview';
            else if (isRainbow) previewClass = 'rainbow-preview';
            else if (isChecker) previewClass = 'checker-preview';
            else if (isWhiteCrown) previewClass = 'white-crown-preview';
            else if (isGoldenCrown) previewClass = 'golden-crown-preview';
            else if (isAlastor) previewClass = 'alastor-preview';
            
            html += `<div class="skin-card">
                <div class="skin-preview ${previewClass}" style="${!previewClass && s.id !== 'alastor' ? 'background:' + s.color : ''}${s.id === 'alastor' ? 'background-image: url(https://avatars.mds.yandex.net/i?id=1083fea1e68788715d2fe4ce944f1bc8_l-10933535-images-thumbs&n=13); background-size: cover;' : ''}"></div>
                <div class="skin-name">${s.name}</div>
                <button onclick="${canBuy ? `window.setSkin('${s.id}', ${s.id === 'alastor' ? 100000 : (s.id === 'rainbow' || s.id === 'checker' ? 12000 : s.price)})` : ''}"
                        class="skin-btn ${act?'active':''} ${!canBuy ? 'locked' : ''}">
                    ${buttonText}
                </button>
            </div>`;
        });
        l.innerHTML = html;
    };

    window.renderProfile = function() {
        const stats = document.getElementById('profile-stats');
        let accountTypeText = '';
        switch(window.db.accountType) {
            case window.ACCOUNT_TYPES.NORMAL: accountTypeText = '–û–ë–´–ß–ù–´–ô'; break;
            case window.ACCOUNT_TYPES.PREMIUM: accountTypeText = '–ü–†–ï–ú–ò–£–ú'; break;
            case window.ACCOUNT_TYPES.DEVELOPER: accountTypeText = '–†–ê–ó–†–ê–ë–û–¢–ß–ò–ö'; break;
            case window.ACCOUNT_TYPES.LEGENDARY: accountTypeText = '–õ–ï–ì–ï–ù–î–ê–†–ù–´–ô'; break;
            case window.ACCOUNT_TYPES.WATER_ALISON: accountTypeText = 'WATER ALISON'; break;
            case window.ACCOUNT_TYPES.RENERLIX: accountTypeText = 'RENERLIX 2.0'; break;
            default: accountTypeText = '–û–ë–´–ß–ù–´–ô';
        }
        
        stats.innerHTML = `<div class="profile-stat-item">
                <span class="stat-label">–¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞:</span>
                <span class="stat-value ${window.db.accountType}">${accountTypeText}</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤:</span>
                <span class="stat-value">${window.db.clicks.toLocaleString()}</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–£—Ä–æ–≤–µ–Ω—å –∫–ª–∏–∫–∞:</span>
                <span class="stat-value">${window.db.up}</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–ú–∞–∫—Å. —É—Ä–æ–≤–µ–Ω—å:</span>
                <span class="stat-value">35</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–ë–∞—Ç–ª –ø–∞—Å—Å:</span>
                <span class="stat-value ${window.db.plus ? 'available' : 'locked'}">${window.db.plus ? '–ê–ö–¢–ò–í–ï–ù' : '–ù–ï –ê–ö–¢–ò–í–ï–ù'}</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–ö—É–ø–ª–µ–Ω–æ —Å–∫–∏–Ω–æ–≤:</span>
                <span class="stat-value">${window.db.owned.length}/${window.SKINS.length}</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã:</span>
                <span class="stat-value">${window.db.dailyRewardsClaimed}</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–°–µ—Ä–∏—è –Ω–∞–≥—Ä–∞–¥:</span>
                <span class="stat-value">${window.db.dailyRewardStreak} –¥–Ω–µ–π</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–†–µ–∂–∏–º –º–æ–Ω–µ—Ç:</span>
                <span class="stat-value ${window.db.hasUltimateCoins ? 'ultimate' : (window.db.infiniteCoins ? 'infinite' : 'normal')}">
                    ${window.db.hasUltimateCoins ? 'ULTIMATE' : (window.db.infiniteCoins ? '–ë–ï–°–ö–û–ù–ï–ß–ù–´–ô' : '–ù–û–†–ú–ê–õ–¨–ù–´–ô')}
                </span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–ö–∞—Å—Ç–æ–º ID:</span>
                <span class="stat-value ${window.db.customId || window.db.isWaterAlison || window.db.isRenerlix ? 'custom' : 'normal'}">
                    ${window.db.isWaterAlison ? 'WATER ALISON' : window.db.isRenerlix ? 'RENERLIX 2.0' : (window.db.customId ? '–ê–ö–¢–ò–í–ï–ù' : '–û–¢–°–£–¢–°–¢–í–£–ï–¢')}
                </span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞:</span>
                <span class="stat-value ${window.db.officialAccount ? 'official' : 'unofficial'}">
                    ${window.db.officialAccount ? '–û–§–ò–¶–ò–ê–õ–¨–ù–´–ô ‚úÖ' : '–ù–ï–û–§–ò–¶–ò–ê–õ–¨–ù–´–ô'}
                </span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:</span>
                <span class="stat-value ${window.db.developerMenuUnlocked ? 'unlocked' : 'locked'}">
                    ${window.db.developerMenuUnlocked ? '–†–ê–ó–ë–õ–û–ö–ò–†–û–í–ê–ù ‚öôÔ∏è' : '–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù'}
                </span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:</span>
                <span class="stat-value warning">${window.db.warnings}</span>
            </div>
            <div class="profile-stat-item">
                <span class="stat-label">–°—Ç–∞—Ç—É—Å:</span>
                <span class="stat-value ${window.db.isBanned ? 'banned' : 'normal'}">${window.db.isBanned ? '–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù' : '–ê–ö–¢–ò–í–ï–ù'}</span>
            </div>`;
    };

    window.renderExchange = function() {
        if (window.db.hasUltimateCoins) {
            document.getElementById('exchange-coins').textContent = '999...';
            document.getElementById('exchange-coins').style.color = '#ff00ff';
            document.getElementById('exchange-coins').style.fontWeight = '900';
            document.getElementById('exchange-coins').style.textShadow = '0 0 10px #ff00ff';
        } else if (window.db.infiniteCoins) {
            document.getElementById('exchange-coins').textContent = '‚àû';
            document.getElementById('exchange-coins').style.color = '#00ff00';
            document.getElementById('exchange-coins').style.fontWeight = '900';
            document.getElementById('exchange-coins').style.textShadow = '0 0 10px #00ff00';
        } else {
            document.getElementById('exchange-coins').textContent = window.db.coins.toLocaleString();
            document.getElementById('exchange-coins').style.color = '';
            document.getElementById('exchange-coins').style.fontWeight = '';
            document.getElementById('exchange-coins').style.textShadow = '';
        }
        document.getElementById('exchange-ccoins').textContent = window.db.ccoins.toLocaleString();
        document.getElementById('exchange-rate').textContent = '1 üíé = 100,000 üí∞';
        document.getElementById('exchange-amount').value = '';
        document.getElementById('exchange-result').textContent = '0 üíé';
    };

    window.calculateExchange = function() {
        const amount = parseInt(document.getElementById('exchange-amount').value) || 0;
        const diamonds = Math.floor(amount / 100000);
        document.getElementById('exchange-result').textContent = `${diamonds.toLocaleString()} üíé`;
    };

    window.exchangeCoins = function() {
        if (window.db.infiniteCoins && !window.db.usedWaterAlison) {
            alert('‚ùå –û–±–º–µ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ä–µ–∂–∏–º–µ WaterAlison1337!');
            return;
        }
        
        const amount = parseInt(document.getElementById('exchange-amount').value) || 0;
        const diamonds = Math.floor(amount / 100000);
        
        if (amount <= 0) {
            alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –¥–ª—è –æ–±–º–µ–Ω–∞!');
            return;
        }
        
        if (!window.canSpendCoins(amount)) {
            alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –¥–ª—è –æ–±–º–µ–Ω–∞!');
            return;
        }
        
        if (diamonds <= 0) {
            alert('–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ - 100,000 –º–æ–Ω–µ—Ç (1 –∞–ª–º–∞–∑)!');
            return;
        }
        
        if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ–±–º–µ–Ω—è—Ç—å ${amount.toLocaleString()} üí∞ –Ω–∞ ${diamonds} üíé?`)) {
            window.canSpendCoins(amount);
            window.db.ccoins += diamonds;
            window.save();
            window.updateUI();
            window.renderExchange();
            alert(`‚úÖ –£—Å–ø–µ—à–Ω–æ! –í—ã –æ–±–º–µ–Ω—è–ª–∏ ${amount.toLocaleString()} –º–æ–Ω–µ—Ç –Ω–∞ ${diamonds} –∞–ª–º–∞–∑–æ–≤!`);
        }
    };

    window.setSkin = function(id, p) {
        const skin = window.SKINS.find(s => s.id === id);
        if (!skin) return;
        
        if(window.db.owned.includes(id)) {
            window.db.skin = id;
            window.db.activeMultiplier = skin.multiplier || 1;
        } else if(window.db.ccoins >= p) {
            window.db.ccoins -= p;
            window.db.owned.push(id);
            window.db.skin = id;
            window.db.activeMultiplier = skin.multiplier || 1;
            alert(`üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∫—É–ø–∏–ª–∏ —Å–∫–∏–Ω "${skin.name}"!`);
        }
        window.save();
        window.updateUI();
        window.renderSkins();
    };

    window.uploadAvatar = function() {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'image/*';
        input.onchange = (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    window.db.avatarUrl = event.target.result;
                    window.save();
                    window.updateUI();
                };
                reader.readAsDataURL(file);
            }
        };
        input.click();
    };

    window.rebirth = function() {
        if (!window.db.hasUltimateCoins && !window.db.infiniteCoins && !window.canSpendCoins(5000000)) {
            alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –¥–ª—è –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è! –ù—É–∂–Ω–æ 5,000,000 üí∞');
            return;
        }
        
        const costText = window.db.hasUltimateCoins ? "–ë–ï–°–ü–õ–ê–¢–ù–û (ULTIMATE —Ä–µ–∂–∏–º)" : (window.db.infiniteCoins ? "–ë–ï–°–ü–õ–ê–¢–ù–û (—Ä–µ–∂–∏–º –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –º–æ–Ω–µ—Ç)" : "5,000,000 üí∞");
        
        if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ—Ä–æ–¥–∏—Ç—å—Å—è –∑–∞ ${costText}?\n\n–≠—Ç–æ —Å–±—Ä–æ—Å–∏—Ç –≤–∞—à —Å—á–µ—Ç –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å—ã, –Ω–æ –¥–∞—Å—Ç –±–æ–Ω—É—Å—ã!`)) {
            if (!window.db.hasUltimateCoins && !window.db.infiniteCoins) {
                window.canSpendCoins(5000000);
            }
            window.db.rebirthCount += 1;
            
            window.db.score = 0;
            window.db.clicks = 0;
            window.db.up = 1;
            window.db.activeMultiplier = 1;
            window.db.skin = 'default';
            
            if (window.db.rebirthCount >= 3 && !window.db.owned.includes('winter_snowflake')) {
                window.db.owned.push('winter_snowflake');
                alert('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–ª—É—á–∏–ª–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Å–∫–∏–Ω "‚ùÑÔ∏è –ó–∏–º–Ω–∏–π –°–Ω–µ–∂–∏–Ω–∫–∞" –∑–∞ 3 –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è!');
            }
            
            if (window.db.rebirthCount >= 10 && !window.db.owned.includes('golden_crown')) {
                window.db.owned.push('golden_crown');
                alert('üëë –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–ª—É—á–∏–ª–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Å–∫–∏–Ω "–ó–æ–ª–æ—Ç–∞—è –ö–æ—Ä–æ–Ω–∞" –∑–∞ 10 –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π!');
            }
            
            window.save();
            window.updateUI();
            window.renderSkins();
            
            let rebirthMessage = `‚úÖ –ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!\n–ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π: ${window.db.rebirthCount}`;
            if (window.db.rebirthCount >= 10) {
                rebirthMessage += '\nüëë –í—ã –ø–æ–ª—É—á–∏–ª–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Å–∫–∏–Ω "–ó–æ–ª–æ—Ç–∞—è –ö–æ—Ä–æ–Ω–∞"!';
            } else if (window.db.rebirthCount >= 3) {
                rebirthMessage += '\n‚ùÑÔ∏è –í—ã –ø–æ–ª—É—á–∏–ª–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Å–∫–∏–Ω "–ó–∏–º–Ω–∏–π –°–Ω–µ–∂–∏–Ω–∫–∞"!';
            } else {
                rebirthMessage += `\n–î–æ –∑–æ–ª–æ—Ç–æ–π –∫–æ—Ä–æ–Ω—ã: ${10 - window.db.rebirthCount} –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π`;
            }
            alert(rebirthMessage);
        }
    };

    window.buyLevel = function() { 
        if(window.db.ccoins >= 30) { 
            window.db.ccoins -= 30; 
            window.db.clicks += 1500; 
            window.save(); 
            window.updateUI(); 
            window.renderBP(); 
        }
    };
    
    window.buyPlus = function() { 
        if(window.db.ccoins >= 799) { 
            window.db.ccoins -= 799; 
            window.db.plus = true; 
            window.save(); 
            window.updateUI(); 
            window.renderBP();
            alert('üéâ Battle Pass –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–µ–º–∏—É–º –Ω–∞–≥—Ä–∞–¥—ã!');
        } else {
            alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–ª–º–∞–∑–æ–≤! –ù—É–∂–Ω–æ 799 üíé');
        }
    };
    
    window.buyUp = function() {
        if (window.db.up >= 35) {
            alert('üöÄ –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ 35 —É—Ä–æ–≤–Ω—è!');
            return;
        }
        
        const cost = window.getUpgradeCost();
        
        if (window.db.hasUltimateCoins || window.db.infiniteCoins || window.canSpendCoins(cost)) {
            if (!window.db.hasUltimateCoins && !window.db.infiniteCoins) {
                window.canSpendCoins(cost);
            }
            window.db.up++;
            window.save();
            window.updateUI();
            
            let levelMessage = `üéâ –£—Ä–æ–≤–µ–Ω—å —É–ª—É—á—à–µ–Ω –¥–æ ${window.db.up}!`;
            if (window.db.up === 20) levelMessage += '\n‚ö° –î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å 20! –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!';
            if (window.db.up === 25) levelMessage += '\nüî• –î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å 25! –ú–æ—â—å —Ä–∞—Å—Ç—ë—Ç!';
            if (window.db.up === 30) levelMessage += '\nüíÄ –î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å 30! –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è —Å–∏–ª–∞!';
            if (window.db.up === 35) levelMessage += '\nüëë –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô —É—Ä–æ–≤–µ–Ω—å 35! –í—ã –ë–û–ì –∫–ª–∏–∫–µ—Ä–∞!';
            
            alert(levelMessage);
        } else {
            alert(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç! –ù—É–∂–Ω–æ ${cost.toLocaleString()} üí∞`);
        }
    };
      
    window.openCase = function() {
        if(window.db.ccoins < 100) return alert("–ú–∞–ª–æ üíé");
        window.db.ccoins -= 100;
        const pool = window.SKINS.filter(s => !s.bpOnly && s.id !== 'winter_lord' && s.id !== 'undead_desert' && s.id !== 'winter_snowflake' && !s.rebirthSkin && s.id !== 'white_crown' && s.id !== 'golden_crown' && s.id !== 'alastor');
        const win = pool[Math.floor(Math.random()*pool.length)];
        if(!window.db.owned.includes(win.id)) window.db.owned.push(win.id);
        alert("–í—ã–ø–∞–ª: " + win.name); window.save(); window.updateUI();
    };

    window.usePromo = function() {
        const v = document.getElementById('promo-input').value.trim();
        if(window.db.promos.includes(v)) return alert("–£–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!");
        
        let msg = "";
        let found = false;
        
        for (const promo of window.NEW_PROMOCODES) {
            if (v === promo.code) {
                found = true;
                
                if (promo.waterAlisonDev) {
                    // –ü—Ä–æ–º–æ–∫–æ–¥ –∏–∑ 100 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è Water Alison ID —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
                    window.db.hasCustomIdPromo = true;
                    window.db.accountType = window.ACCOUNT_TYPES.WATER_ALISON;
                    window.db.isWaterAlison = true;
                    window.db.creatorBadge = true;
                    window.db.officialAccount = true;
                    window.db.developerMenuUnlocked = true;
                    
                    window.db.waterAlisonId = "Water Alison";
                    window.db.customId = null;
                    
                    // –°–ª–æ–∂–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
                    window.db.idGradient = 'linear-gradient(45deg, #00ffff, #0080ff, #0040ff, #00ffff)';
                    window.db.idAnimation = 'water-alison-glow 2s ease-in-out infinite, water-alison-flow 3s ease-in-out infinite';
                    window.db.idTextShadow = '0 0 20px #00ffff, 0 0 40px #0080ff, 0 0 60px #0040ff';
                    
                    // –ë–æ–Ω—É—Å—ã
                    window.db.coins = 999999999999999;
                    window.db.hasUltimateCoins = true;
                    window.db.ccoins += 100000;
                    window.db.score += 5000000;
                    window.db.owned = window.SKINS.map(s => s.id); // –í—Å–µ —Å–∫–∏–Ω—ã
                    window.db.plus = true;
                    
                    // –û—Ç–∫–ª—é—á–∞–µ–º –∞–Ω—Ç–∏—á–∏—Ç
                    window.antiAutoClick.toggle(false);
                    
                    msg = `üéÆ WATER ALISON DEVELOPER ID –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!\n\n–¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞: ${window.ACCOUNT_TYPES.WATER_ALISON.toUpperCase()}\n–°—Ç–∞—Ç—É—Å: –û–§–ò–¶–ò–ê–õ–¨–ù–´–ô ‚úÖ\n–ë–µ–π–¥–∂: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ üõ†Ô∏è\n\n‚ú® –í—Å–µ —Å–∫–∏–Ω—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!\nüí∞ Ultimate —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω\nüíé +100,000 –∞–ª–º–∞–∑–æ–≤\n‚ú® +5,000,000 –æ—á–∫–æ–≤\n‚úÖ –ë–∞—Ç–ª –ø–∞—Å—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω\n‚öôÔ∏è –ú–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ`;
                    
                } else if (promo.customIdSimple) {
                    // –ü—Ä–æ–º–æ–∫–æ–¥ –∏–∑ 100 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ ID
                    window.db.hasCustomIdPromo = true;
                    const customId = prompt("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π ID (–¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤):");
                    if (customId && customId.trim() !== '') {
                        window.db.customId = customId.substring(0, 50);
                        window.db.customIdColor = null;
                        msg = `üìù –ö–∞—Å—Ç–æ–º–Ω—ã–π ID "${window.db.customId}" —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!`;
                    } else {
                        alert('ID –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!');
                        return;
                    }
                    
                } else if (promo.renerlixDev) {
                    // –ü—Ä–æ–º–æ–∫–æ–¥ –∏–∑ 100 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è ReNerlix 2.0
                    window.db.hasCustomIdPromo = true;
                    window.db.accountType = window.ACCOUNT_TYPES.RENERLIX;
                    window.db.isRenerlix = true;
                    window.db.creatorBadge = true;
                    window.db.officialAccount = true;
                    window.db.developerMenuUnlocked = true;
                    
                    window.db.renerlixId = "ReNerlix 2.0";
                    window.db.customId = null;
                    
                    // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è ReNerlix
                    window.db.idGradient = 'linear-gradient(45deg, #ff00ff, #ff1493, #8b008b, #ff00ff)';
                    window.db.idAnimation = 'renerlix-glow 2s ease-in-out infinite, renerlix-flow 3s ease-in-out infinite';
                    window.db.idTextShadow = '0 0 20px #ff00ff, 0 0 40px #ff1493, 0 0 60px #8b008b';
                    
                    // –ë–æ–Ω—É—Å—ã
                    window.db.coins = 999999999999999;
                    window.db.hasUltimateCoins = true;
                    window.db.ccoins += 50000;
                    window.db.score += 2500000;
                    window.db.owned = window.SKINS.map(s => s.id); // –í—Å–µ —Å–∫–∏–Ω—ã
                    window.db.plus = true;
                    
                    // –û—Ç–∫–ª—é—á–∞–µ–º –∞–Ω—Ç–∏—á–∏—Ç
                    window.antiAutoClick.toggle(false);
                    
                    msg = `üéÆ RENERLIX 2.0 DEVELOPER ID –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!\n\n–¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞: ${window.ACCOUNT_TYPES.RENERLIX}\n–°—Ç–∞—Ç—É—Å: –û–§–ò–¶–ò–ê–õ–¨–ù–´–ô ‚úÖ\n–ë–µ–π–¥–∂: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ üõ†Ô∏è\n\n‚ú® –í—Å–µ —Å–∫–∏–Ω—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!\nüí∞ Ultimate —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω\nüíé +50,000 –∞–ª–º–∞–∑–æ–≤\n‚ú® +2,500,000 –æ—á–∫–æ–≤\n‚úÖ –ë–∞—Ç–ª –ø–∞—Å—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω\n‚öôÔ∏è –ú–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ`;
                    
                } else if (promo.infiniteCoins) {
                    window.db.infiniteCoins = true;
                    window.db.coins = 999999999;
                    window.db.usedWaterAlison = true;
                    msg = "‚ôæÔ∏è –ê–ö–¢–ò–í–ò–†–û–í–ê–ù –†–ï–ñ–ò–ú –ë–ï–°–ö–û–ù–ï–ß–ù–´–• –ú–û–ù–ï–¢!\nüí∞ –ë–∞–ª–∞–Ω—Å: ‚àû\n‚úÖ –ú–æ–∂–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ!";
                    
                } else if (promo.coins) {
                    window.db.coins += promo.coins;
                    msg = `üí∞ +${promo.coins.toLocaleString()} –º–æ–Ω–µ—Ç!`;
                    
                } else if (promo.ccoins) {
                    window.db.ccoins += promo.ccoins;
                    msg = `üíé +${promo.ccoins.toLocaleString()} –∞–ª–º–∞–∑–æ–≤!`;
                }
                break;
            }
        }
        
        if (!found) {
            alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥!');
            return;
        }
        
        window.db.promos.push(v);
        alert(msg);
        window.save();
        window.updateUI();
    };

    // –§—É–Ω–∫—Ü–∏–∏ –º–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
    window.openDeveloperMenu = function() {
        if (!window.db.developerMenuUnlocked) {
            alert('‚ùå –ú–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!');
            return;
        }
        
        const menuHtml = `
            <div class="developer-menu-overlay">
                <div class="developer-menu">
                    <div class="developer-menu-header">
                        <h2>‚öôÔ∏è –ú–ï–ù–Æ –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê</h2>
                        <button class="close-btn" onclick="this.parentElement.parentElement.parentElement.remove()">‚úï</button>
                    </div>
                    <div class="developer-menu-content">
                        <div class="dev-section">
                            <h3>üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</h3>
                            <div class="dev-control">
                                <label>–ú–æ–Ω–µ—Ç—ã:</label>
                                <input type="number" id="dev-coins" value="${window.db.coins}">
                                <button onclick="window.devSetCoins()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                            <div class="dev-control">
                                <label>–ê–ª–º–∞–∑—ã:</label>
                                <input type="number" id="dev-ccoins" value="${window.db.ccoins}">
                                <button onclick="window.devSetCcoins()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                            <div class="dev-control">
                                <label>–û—á–∫–∏:</label>
                                <input type="number" id="dev-score" value="${window.db.score}">
                                <button onclick="window.devSetScore()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                            <div class="dev-control">
                                <label>–£—Ä–æ–≤–µ–Ω—å –∫–ª–∏–∫–∞:</label>
                                <input type="number" id="dev-up" value="${window.db.up}" min="1" max="35">
                                <button onclick="window.devSetUp()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                        </div>
                        
                        <div class="dev-section">
                            <h3>üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ID</h3>
                            <button class="dev-btn" onclick="window.openColorMenu()">üé® –í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç –Ω–∏–∫–∞</button>
                            <button class="dev-btn" onclick="window.devResetID()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å ID</button>
                        </div>
                        
                        <div class="dev-section">
                            <h3>‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                            <div class="dev-control">
                                <label>–ê–Ω—Ç–∏-–∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä:</label>
                                <button class="dev-btn ${window.antiAutoClick.enabled ? 'active' : ''}" onclick="window.toggleAntiCheat()">
                                    ${window.antiAutoClick.enabled ? '–í–ö–õ' : '–í–´–ö–õ'}
                                </button>
                            </div>
                            <button class="dev-btn" onclick="window.devUnlockAllSkins()">üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–∫–∏–Ω—ã</button>
                            <button class="dev-btn" onclick="window.devMaxBP()">üèÜ –ú–∞–∫—Å. —É—Ä–æ–≤–µ–Ω—å Battle Pass</button>
                            <button class="dev-btn" onclick="window.devResetProgress()">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (–±–µ–∑ ID)</button>
                        </div>
                        
                        <div class="dev-section">
                            <h3>üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                            <button class="dev-btn" onclick="window.devAddCoins(1000000)">üí∞ +1,000,000 –º–æ–Ω–µ—Ç</button>
                            <button class="dev-btn" onclick="window.devAddCcoins(1000)">üíé +1,000 –∞–ª–º–∞–∑–æ–≤</button>
                            <button class="dev-btn" onclick="window.devAddScore(100000)">‚ú® +100,000 –æ—á–∫–æ–≤</button>
                            <button class="dev-btn" onclick="window.devSetRebirth(10)">üëë 10 –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π</button>
                        </div>
                    </div>
                </div>
            </div>
        `;
        
        const menuDiv = document.createElement('div');
        menuDiv.innerHTML = menuHtml;
        document.body.appendChild(menuDiv);
    };

    window.devSetCoins = function() {
        const coins = parseInt(document.getElementById('dev-coins').value) || 0;
        window.db.coins = coins;
        window.db.hasUltimateCoins = coins > 1000000000000;
        window.save();
        window.updateUI();
        alert(`üí∞ –ú–æ–Ω–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: ${coins.toLocaleString()}`);
    };

    window.devSetCcoins = function() {
        const ccoins = parseInt(document.getElementById('dev-ccoins').value) || 0;
        window.db.ccoins = ccoins;
        window.save();
        window.updateUI();
        alert(`üíé –ê–ª–º–∞–∑—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: ${ccoins.toLocaleString()}`);
    };

    window.devSetScore = function() {
        const score = parseInt(document.getElementById('dev-score').value) || 0;
        window.db.score = score;
        window.save();
        window.updateUI();
        alert(`‚ú® –û—á–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: ${score.toLocaleString()}`);
    };

    window.devSetUp = function() {
        const up = parseInt(document.getElementById('dev-up').value) || 1;
        if (up < 1) up = 1;
        if (up > 35) up = 35;
        window.db.up = up;
        window.save();
        window.updateUI();
        alert(`‚ö° –£—Ä–æ–≤–µ–Ω—å –∫–ª–∏–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${up}`);
    };

    window.openColorMenu = function() {
        const colors = [
            { name: '–ö—Ä–∞—Å–Ω—ã–π', value: '#ff0000' },
            { name: '–°–∏–Ω–∏–π', value: '#0000ff' },
            { name: '–ó–µ–ª–µ–Ω—ã–π', value: '#00ff00' },
            { name: '–ñ–µ–ª—Ç—ã–π', value: '#ffff00' },
            { name: '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π', value: '#800080' },
            { name: '–û—Ä–∞–Ω–∂–µ–≤—ã–π', value: '#ffa500' },
            { name: '–†–æ–∑–æ–≤—ã–π', value: '#ff69b4' },
            { name: '–ì–æ–ª—É–±–æ–π', value: '#00ffff' },
            { name: '–ó–æ–ª–æ—Ç–æ–π', value: '#ffd700' },
            { name: '–°–µ—Ä–µ–±—Ä—è–Ω—ã–π', value: '#c0c0c0' }
        ];
        
        let colorHtml = '<div class="color-menu"><h3>üé® –í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç –Ω–∏–∫–∞</h3><div class="color-grid">';
        colors.forEach(color => {
            colorHtml += `<div class="color-option" style="background:${color.value}" onclick="window.setNickColor('${color.value}', '${color.name}')">${color.name}</div>`;
        });
        colorHtml += '</div><button class="dev-btn" onclick="this.parentElement.remove()">–û—Ç–º–µ–Ω–∞</button></div>';
        
        const colorDiv = document.createElement('div');
        colorDiv.innerHTML = colorHtml;
        colorDiv.style.position = 'fixed';
        colorDiv.style.top = '50%';
        colorDiv.style.left = '50%';
        colorDiv.style.transform = 'translate(-50%, -50%)';
        colorDiv.style.background = 'var(--card)';
        colorDiv.style.padding = '20px';
        colorDiv.style.borderRadius = '15px';
        colorDiv.style.zIndex = '10000';
        document.body.appendChild(colorDiv);
    };

    window.setNickColor = function(color, name) {
        if (window.db.isWaterAlison || window.db.isRenerlix) {
            alert('‚ùå –î–ª—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Ü–≤–µ—Ç –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å!');
            return;
        }
        window.db.customIdColor = color;
        window.save();
        window.updateUI();
        alert(`üé® –¶–≤–µ—Ç –Ω–∏–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${name}`);
        document.querySelector('.color-menu')?.remove();
    };

    window.devResetID = function() {
        if (window.db.isWaterAlison || window.db.isRenerlix) {
            if (!confirm('‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ —Å–±—Ä–æ—Å–∏—Ç –≤–∞—à —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞!')) return;
            window.db.isWaterAlison = false;
            window.db.isRenerlix = false;
            window.db.accountType = window.ACCOUNT_TYPES.NORMAL;
            window.db.officialAccount = false;
            window.db.developerMenuUnlocked = false;
            window.db.creatorBadge = false;
        }
        window.db.customId = null;
        window.db.customIdColor = null;
        window.db.waterAlisonId = null;
        window.db.renerlixId = null;
        window.db.idGradient = null;
        window.db.idAnimation = null;
        window.db.idTextShadow = null;
        window.save();
        window.updateUI();
        alert('üîÑ ID —Å–±—Ä–æ—à–µ–Ω!');
    };

    window.toggleAntiCheat = function() {
        window.antiAutoClick.toggle(!window.antiAutoClick.enabled);
        document.querySelector('.developer-menu-overlay')?.remove();
        window.openDeveloperMenu();
    };

    window.devUnlockAllSkins = function() {
        window.db.owned = window.SKINS.map(s => s.id);
        window.save();
        window.updateUI();
        alert('üîì –í—Å–µ —Å–∫–∏–Ω—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!');
    };

    window.devMaxBP = function() {
        window.db.clicks = 1500 * 500;
        window.db.plus = true;
        window.save();
        window.updateUI();
        window.renderBP();
        alert('üèÜ Battle Pass –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è!');
    };

    window.devResetProgress = function() {
        if (!confirm('‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –≠—Ç–æ —Å–±—Ä–æ—Å–∏—Ç –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫—Ä–æ–º–µ ID! –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) return;
        
        window.db.score = 0;
        window.db.coins = 0;
        window.db.ccoins = 0;
        window.db.clicks = 0;
        window.db.up = 1;
        window.db.plus = false;
        window.db.skin = 'default';
        window.db.owned = ['default'];
        window.db.activeMultiplier = 1;
        window.db.bpLevelsClaimed = [];
        window.db.rebirthCount = 0;
        window.db.infiniteCoins = false;
        window.db.hasUltimateCoins = false;
        window.db.claimedRewards = [];
        window.db.lastDailyReward = null;
        window.db.dailyRewardStreak = 0;
        window.db.dailyRewardsClaimed = 0;
        window.db.warnings = 0;
        window.db.isBanned = false;
        window.db.banReason = '';
        
        window.save();
        window.updateUI();
        alert('üóëÔ∏è –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–±—Ä–æ—à–µ–Ω!');
    };

    window.devAddCoins = function(amount) {
        window.db.coins += amount;
        window.save();
        window.updateUI();
        alert(`üí∞ +${amount.toLocaleString()} –º–æ–Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ!`);
    };

    window.devAddCcoins = function(amount) {
        window.db.ccoins += amount;
        window.save();
        window.updateUI();
        alert(`üíé +${amount.toLocaleString()} –∞–ª–º–∞–∑–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ!`);
    };

    window.devAddScore = function(amount) {
        window.db.score += amount;
        window.save();
        window.updateUI();
        alert(`‚ú® +${amount.toLocaleString()} –æ—á–∫–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ!`);
    };

    window.devSetRebirth = function(count) {
        window.db.rebirthCount = count;
        if (count >= 3 && !window.db.owned.includes('winter_snowflake')) {
            window.db.owned.push('winter_snowflake');
        }
        if (count >= 10 && !window.db.owned.includes('golden_crown')) {
            window.db.owned.push('golden_crown');
        }
        window.save();
        window.updateUI();
        alert(`üëë –ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: ${count}`);
    };

    window.onload = function() {
        const t = localStorage.getItem('cp_theme') || 'dark';
        document.body.setAttribute('data-theme', t);
        window.antiAutoClick.init();
        window.updateUI();
    };
</script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Poppins:wght@400;700&display=swap');
    :root { --bg: #0f172a; --card: #1e293b; --text: #f8fafc; --primary: #38bdf8; --ccoin: #2dd4bf; --border: rgba(255,255,255,0.1); }
    body[data-theme="light"] { --bg: #f1f5f9; --card: #ffffff; --text: #1e293b; --border: rgba(0,0,0,0.05); }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; user-select: none; }
    body { font-family: 'Poppins', sans-serif; background: var(--bg); color: var(--text); height: 100vh; overflow: hidden; }
    
    /* –ù–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è ID */
    @keyframes fire-flow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    @keyframes water-flow {
        0% { background-position: 0% 0%; }
        100% { background-position: 100% 100%; }
    }
    @keyframes electric-flow {
        0% { background-position: 0% 0%; }
        100% { background-position: 400% 400%; }
    }
    @keyframes neon-rainbow-flow {
        0% { background-position: 0% 50%; }
        100% { background-position: 100% 50%; }
    }
    @keyframes star-twinkle {
        0%, 100% { opacity: 1; text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #ff00de, 0 0 35px #ff00de, 0 0 40px #ff00de; }
        50% { opacity: 0.8; text-shadow: 0 0 2px #fff, 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff00de, 0 0 25px #ff00de, 0 0 30px #ff00de; }
    }
    @keyframes game-flow {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
    }
    @keyframes developer-flow {
        0% { filter: brightness(1) hue-rotate(0deg); }
        50% { filter: brightness(1.5) hue-rotate(180deg); }
        100% { filter: brightness(1) hue-rotate(360deg); }
    }
    @keyframes water-alison-glow {
        0%, 100% { text-shadow: 0 0 20px #00ffff, 0 0 40px #0080ff, 0 0 60px #0040ff; }
        50% { text-shadow: 0 0 25px #00ffff, 0 0 50px #0080ff, 0 0 75px #0040ff; }
    }
    @keyframes water-alison-flow {
        0% { background-position: 0% 0%; }
        100% { background-position: 300% 300%; }
    }
    @keyframes renerlix-glow {
        0%, 100% { text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff1493, 0 0 60px #8b008b; }
        50% { text-shadow: 0 0 25px #ff00ff, 0 0 50px #ff1493, 0 0 75px #8b008b; }
    }
    @keyframes renerlix-flow {
        0% { background-position: 0% 0%; }
        100% { background-position: 300% 300%; }
    }
    
    @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
    @keyframes infinite-glow { 0% { text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00; } 50% { text-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00; } 100% { text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00; } }
    @keyframes ultimate-glow { 0% { text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff; } 50% { text-shadow: 0 0 20px #ff00ff, 0 0 30px #ff00ff; } 100% { text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff; } }
    @keyframes snowflake-fall { 0% { transform: translateY(-100px) rotate(0deg); opacity: 1; } 100% { transform: translateY(100px) rotate(360deg); opacity: 0; } }
    @keyframes rainbow-flow { 0% { background-position: 0% 0%; } 100% { background-position: 400% 0%; } }
    @keyframes checker-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes crown-glow { 0% { box-shadow: 0 0 20px #ffffff, 0 0 40px #ffffff; } 50% { box-shadow: 0 0 30px #ffffff, 0 0 60px #ffffff; } 100% { box-shadow: 0 0 20px #ffffff, 0 0 40px #ffffff; } }
    @keyframes golden-glow { 0% { box-shadow: 0 0 20px #ffd700, 0 0 40px #ffd700; } 50% { box-shadow: 0 0 30px #ffd700, 0 0 60px #ffd700; } 100% { box-shadow: 0 0 20px #ffd700, 0 0 40px #ffd700; } }
    @keyframes demon-glow { 0% { box-shadow: 0 0 20px #ff0000, 0 0 40px #8b0000; } 50% { box-shadow: 0 0 30px #ff0000, 0 0 60px #8b0000; } 100% { box-shadow: 0 0 20px #ff0000, 0 0 40px #8b0000; } }
    @keyframes rainbow-text { 
        0% { color: #ff0000; } 14% { color: #ff7f00; } 28% { color: #ffff00; } 42% { color: #00ff00; } 
        57% { color: #0000ff; } 71% { color: #4b0082; } 85% { color: #9400d3; } 100% { color: #ff0000; } 
    }
    
    .profile-control { position: fixed; top: 10px; left: 10px; z-index: 100; display: flex; gap: 8px; }
    .profile-btn, .exchange-btn, .daily-reward-btn { width: 40px; height: 40px; border-radius: 12px; background: var(--card); border: 1px solid var(--border); display: flex; justify-content: center; align-items: center; cursor: pointer; color: var(--text); font-size: 18px; }
    .exchange-btn { background: linear-gradient(135deg, #2ecc71, #27ae60); }
    .daily-reward-btn { background: linear-gradient(135deg, #f39c12, #f1c40f); }
    
    .top-controls { position: fixed; top: 10px; right: 10px; display: flex; gap: 8px; z-index: 100; }
    .control-btn { width: 40px; height: 40px; border-radius: 12px; background: var(--card); border: 1px solid var(--border); display: flex; justify-content: center; align-items: center; cursor: pointer; color: var(--text); }
    .control-btn svg { width: 20px; height: 20px; fill: currentColor; }
    
    .screen { display: none; width: 100%; height: 100%; position: absolute; padding: 60px 15px 20px; overflow-y: auto; flex-direction: column; align-items: center; }
    .active { display: flex; }
    .main-card { background: var(--card); width: 100%; padding: 15px; border-radius: 20px; text-align: center; border: 1px solid var(--border); margin-bottom: 15px; }
    .score-display { font-family: 'Montserrat'; font-size: 45px; color: var(--primary); }
    #rank-display { font-weight: 900; font-size: 16px; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease; }
    
    #click-button {
        width: 160px; height: 160px; border-radius: 50%; border: 8px solid var(--bg); background: var(--primary); color: white;
        font-weight: 900; font-size: 24px; margin: 10px auto; display: flex; align-items: center; justify-content: center;
        cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.2); transition: 0.1s; position: relative; overflow: hidden;
    }
    #click-button:active { transform: scale(0.92); }
    
    .btn-action { width: 100%; padding: 16px; border-radius: 18px; border: none; font-weight: 700; background: var(--card); color: var(--text); border: 1px solid var(--border); margin-bottom: 10px; cursor: pointer; }
    .skin-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; padding-bottom: 20px; }
    .skin-card { background: var(--card); border: 1px solid var(--border); border-radius: 20px; padding: 15px; display: flex; flex-direction: column; align-items: center; }
    .skin-preview { width: 50px; height: 50px; border-radius: 50%; margin-bottom: 8px; position: relative; }
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–Ω–æ–ø–æ–∫ */
    #click-button.unicorn-button {
        animation: unicorn-flow 3s linear infinite;
        background-size: 400% 400%;
        background-image: linear-gradient(135deg, #FF69B4 0%, #FF1493 20%, #9370DB 40%, #8A2BE2 60%, #00BFFF 80%, #87CEEB 100%);
    }
    #click-button.waterfall-button {
        background: linear-gradient(to bottom, #1a2980, #26d0ce);
        animation: waterfall-flow 2s linear infinite;
        position: relative;
        overflow: hidden;
    }
    #click-button.waterfall-button::before {
        content: ''; position: absolute; top: -100%; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: waterfall-drop 1.5s linear infinite;
    }
    #click-button.electrons-button {
        background: radial-gradient(circle, #00b4ff, #0080ff);
        animation: electron-pulse 1.5s ease-in-out infinite;
        box-shadow: 0 0 30px #00b4ff, 0 0 60px #0080ff;
    }
    #click-button.cloud-button { background: linear-gradient(135deg, #e6f7ff, #f0f8ff); box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3); color: #4a90e2; }
    #click-button.undead-desert-button {
        background: linear-gradient(135deg, #d2691e, #f4a460);
        animation: desert-pulse 2s ease-in-out infinite;
        box-shadow: 0 0 30px #d2691e, 0 0 60px #8b4513;
    }
    #click-button.winter-snowflake-button {
        background: linear-gradient(135deg, #ff0000, #ff6666, #ff9999);
        animation: snowflake-spin 4s linear infinite;
        position: relative; overflow: hidden;
    }
    #click-button.winter-snowflake-button::before {
        content: '‚ùÑÔ∏è'; position: absolute; font-size: 20px; animation: snowflake-float 8s linear infinite; opacity: 0.5;
    }
    #click-button.rainbow-button {
        background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
        background-size: 400% 400%; animation: rainbow-flow 4s linear infinite; box-shadow: 0 0 25px rgba(255, 0, 0, 0.5);
    }
    #click-button.checker-button {
        background: repeating-linear-gradient(45deg, #000000, #000000 10px, #ffffff 10px, #ffffff 20px);
        animation: checker-spin 8s linear infinite; box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
    }
    #click-button.white-crown-button {
        background: #ffffff;
        animation: crown-glow 2s ease-in-out infinite;
        color: #000000;
        position: relative;
    }
    #click-button.white-crown-button::after {
        content: 'üëë';
        position: absolute;
        font-size: 40px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    #click-button.golden-crown-button {
        background: linear-gradient(135deg, #ffd700, #ffed4e);
        animation: golden-glow 2s ease-in-out infinite;
        color: #000000;
        position: relative;
    }
    #click-button.golden-crown-button::after {
        content: 'üëë';
        position: absolute;
        font-size: 40px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    #click-button.alastor-button {
        background-image: url(https://avatars.mds.yandex.net/i?id=1083fea1e68788715d2fe4ce944f1bc8_l-10933535-images-thumbs&n=13);
        background-size: cover;
        animation: demon-glow 2s ease-in-out infinite;
        color: #ffffff;
        position: relative;
    }
    #click-button.alastor-button::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        background: rgba(139, 0, 0, 0.3);
        border-radius: 50%;
    }
    
    /* –ü—Ä–µ–≤—å—é —Å–∫–∏–Ω–æ–≤ */
    .unicorn-preview {
        animation: unicorn-flow 3s linear infinite;
        background-size: 400% 400%;
        background-image: linear-gradient(135deg, #FF69B4 0%, #FF1493 20%, #9370DB 40%, #8A2BE2 60%, #00BFFF 80%, #87CEEB 100%);
        box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
    }
    .waterfall-preview { background: linear-gradient(to bottom, #1a2980, #26d0ce); animation: waterfall-flow 2s linear infinite; position: relative; overflow: hidden; }
    .waterfall-preview::before {
        content: ''; position: absolute; top: -100%; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: waterfall-drop 1.5s linear infinite;
    }
    .electrons-preview { background: radial-gradient(circle, #00b4ff, #0080ff); animation: electron-pulse 1.5s ease-in-out infinite; box-shadow: 0 0 20px #00b4ff, 0 0 40px #0080ff; }
    .cloud-preview { background: linear-gradient(135deg, #e6f7ff, #f0f8ff); box-shadow: 0 0 15px rgba(255, 255, 255, 0.3); }
    .undead-desert-preview { background: linear-gradient(135deg, #d2691e, #f4a460); animation: desert-pulse 2s ease-in-out infinite; box-shadow: 0 0 20px #d2691e, 0 0 40px #8b4513; }
    .winter-snowflake-preview { background: linear-gradient(135deg, #ff0000, #ff6666, #ff9999); animation: snowflake-spin 4s linear infinite; position: relative; overflow: hidden; }
    .winter-snowflake-preview::before { content: '‚ùÑÔ∏è'; position: absolute; font-size: 14px; animation: snowflake-float 6s linear infinite; opacity: 0.7; }
    .rainbow-preview { background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3); background-size: 400% 400%; animation: rainbow-flow 4s linear infinite; box-shadow: 0 0 15px rgba(255, 0, 0, 0.5); }
    .checker-preview { background: repeating-linear-gradient(45deg, #000000, #000000 5px, #ffffff 5px, #ffffff 10px); animation: checker-spin 8s linear infinite; box-shadow: 0 0 15px rgba(0, 0, 0, 0.8); }
    .white-crown-preview { 
        background: #ffffff; 
        animation: crown-glow 2s ease-in-out infinite;
        position: relative;
    }
    .white-crown-preview::after {
        content: 'üëë';
        position: absolute;
        font-size: 20px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    .golden-crown-preview { 
        background: linear-gradient(135deg, #ffd700, #ffed4e);
        animation: golden-glow 2s ease-in-out infinite;
        position: relative;
    }
    .golden-crown-preview::after {
        content: 'üëë';
        position: absolute;
        font-size: 20px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    .alastor-preview { 
        background-image: url(https://avatars.mds.yandex.net/i?id=1083fea1e68788715d2fe4ce944f1bc8_l-10933535-images-thumbs&n=13);
        background-size: cover;
        animation: demon-glow 2s ease-in-out infinite;
        position: relative;
    }
    .alastor-preview::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        background: rgba(139, 0, 0, 0.3);
        border-radius: 50%;
    }
    
    @keyframes unicorn-flow {
        0% { background-position: 0% 50%; box-shadow: 0 0 25px rgba(255, 105, 180, 0.7); }
        100% { background-position: 100% 50%; box-shadow: 0 0 25px rgba(135, 206, 235, 0.7); }
    }
    @keyframes waterfall-flow { 0% { background-position: 0% 0%; } 100% { background-position: 0% 100%; } }
    @keyframes waterfall-drop { 0% { top: -100%; } 100% { top: 100%; } }
    @keyframes electron-pulse {
        0%, 100% { box-shadow: 0 0 30px #00b4ff, 0 0 60px #0080ff; }
        50% { box-shadow: 0 0 40px #00b4ff, 0 0 80px #0080ff; }
    }
    @keyframes desert-pulse {
        0%, 100% { box-shadow: 0 0 30px #d2691e, 0 0 60px #8b4513; }
        50% { box-shadow: 0 0 40px #d2691e, 0 0 80px #8b4513; }
    }
    @keyframes snowflake-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes snowflake-float {
        0% { top: -10px; left: -10px; } 25% { top: 40px; left: 40px; } 50% { top: -10px; left: 40px; } 75% { top: 40px; left: -10px; } 100% { top: -10px; left: -10px; }
    }
    
    .skin-btn { width: 100%; padding: 8px; border-radius: 10px; border: none; background: #2d3436; color: white; font-size: 10px; font-weight: 700; }
    .skin-btn.active { background: var(--primary); }
    .skin-btn.locked { background: #555; color: #999; cursor: not-allowed; }
    
    /* Battle Pass */
    .bp-level-row { display: grid; grid-template-columns: 1fr 40px 1fr; gap: 10px; width: 100%; align-items: center; margin-bottom: 10px; }
    .bp-reward-card { background: var(--card); padding: 12px; border-radius: 15px; text-align: center; font-size: 12px; font-weight: 700; cursor: pointer; transition: 0.2s; }
    .bp-reward-card:hover:not(.locked):not(.claimed) { background: var(--primary); color: white; }
    .bp-reward-card.claimed { background: #2ecc71; color: white; cursor: default; }
    .bp-level-circle { background: var(--text); color: var(--bg); width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; margin: auto; cursor: pointer; transition: 0.2s; }
    .bp-level-circle:hover:not(.locked) { background: var(--primary); color: white; }
    .locked { opacity: 0.3; cursor: default !important; }
    .bp-bar { width: 100%; height: 10px; background: rgba(0,0,0,0.2); border-radius: 5px; overflow: hidden; margin: 10px 0; }
    #bp-bar-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.3s; }
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–ª–∏–∫–æ–≤ */
    .click-anim { position: fixed; pointer-events: none; color: var(--primary); font-weight: 900; font-size: 30px; animation: floatUp 0.6s forwards; z-index: 1000; }
    .electron-anim, .sand-anim, .rainbow-anim, .checker-anim { position: fixed; pointer-events: none; border-radius: 50%; z-index: 999; }
    .snowflake-anim { position: fixed; pointer-events: none; font-size: 24px; animation: snowflake-fall 0.8s ease-out forwards; z-index: 999; }
    .demon-anim { position: fixed; pointer-events: none; font-size: 30px; animation: demon-float 0.8s ease-out forwards; z-index: 999; text-shadow: 0 0 10px #ff0000; }
    @keyframes floatUp { from { opacity: 1; transform: translate(-50%, 0); } to { opacity: 0; transform: translate(-50%, -100px); } }
    @keyframes electronExplode { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(2); opacity: 0; } }
    @keyframes sandExplode { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(0.5); opacity: 0; } }
    @keyframes rainbowFloat { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100px) scale(1.5); opacity: 0; } }
    @keyframes rainbowGlow { 0%, 100% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.7); } 33% { box-shadow: 0 0 20px rgba(0, 255, 0, 0.7); } 66% { box-shadow: 0 0 20px rgba(0, 0, 255, 0.7); } }
    @keyframes checkerFloat { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100px) scale(1.5); opacity: 0; } }
    @keyframes checkerRotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes demon-float { 
        0% { transform: translateY(0) scale(1); opacity: 1; } 
        50% { transform: translateY(-50px) scale(1.2); opacity: 0.8; }
        100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
    }
    
    /* –†–∞–¥—É–∂–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ ID */
    .rainbow-text {
        animation: rainbow-text 3s linear infinite;
        font-weight: 900;
        text-shadow: 0 0 5px currentColor;
    }
    
    /* –°—Ç–∏–ª–∏ —Ç–∏–ø–æ–≤ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ */
    .stat-value.normal { color: #70a1ff; }
    .stat-value.premium { color: #ffd700; font-weight: 900; text-shadow: 0 0 5px #ffd700; }
    .stat-value.developer { color: #00ff00; font-weight: 900; text-shadow: 0 0 10px #00ff00; animation: pulse 2s infinite; }
    .stat-value.legendary { color: #ff00ff; font-weight: 900; text-shadow: 0 0 15px #ff00ff, 0 0 30px #ff00ff; }
    .stat-value.water_alison { 
        color: #00ffff; 
        font-weight: 900; 
        text-shadow: 0 0 20px #00ffff, 0 0 40px #0080ff;
        animation: water-alison-glow 2s ease-in-out infinite;
    }
    .stat-value.renerlix { 
        color: #ff00ff; 
        font-weight: 900; 
        text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff1493;
        animation: renerlix-glow 2s ease-in-out infinite;
    }
    .stat-value.official { color: #00ff00; font-weight: 900; text-shadow: 0 0 10px #00ff00; }
    .stat-value.unofficial { color: #ffa500; }
    .stat-value.unlocked { color: #00ffff; font-weight: 900; text-shadow: 0 0 5px #00ffff; }
    .stat-value.locked { color: #ff6b6b; }
    
    /* –ú–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ */
    .developer-menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 10000;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }
    
    .developer-menu {
        background: var(--card);
        border-radius: 20px;
        width: 100%;
        max-width: 500px;
        max-height: 80vh;
        overflow-y: auto;
        border: 2px solid #ff00ff;
        box-shadow: 0 0 30px rgba(255, 0, 255, 0.5);
    }
    
    .developer-menu-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        background: linear-gradient(90deg, #ff00ff, #0080ff);
        border-radius: 20px 20px 0 0;
        color: white;
    }
    
    .developer-menu-header h2 {
        margin: 0;
        font-size: 18px;
    }
    
    .close-btn {
        background: none;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
    }
    
    .close-btn:hover {
        background: rgba(255, 255, 255, 0.2);
    }
    
    .developer-menu-content {
        padding: 20px;
    }
    
    .dev-section {
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid var(--border);
    }
    
    .dev-section h3 {
        margin-bottom: 15px;
        color: var(--primary);
        font-size: 16px;
    }
    
    .dev-control {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
    }
    
    .dev-control label {
        flex: 1;
        font-size: 14px;
    }
    
    .dev-control input {
        flex: 2;
        padding: 8px;
        border-radius: 8px;
        border: 1px solid var(--border);
        background: rgba(0, 0, 0, 0.2);
        color: var(--text);
    }
    
    .dev-control button {
        flex: 1;
        padding: 8px;
        border-radius: 8px;
        border: none;
        background: var(--primary);
        color: white;
        font-weight: 700;
        cursor: pointer;
    }
    
    .dev-btn {
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        border-radius: 10px;
        border: none;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        font-weight: 700;
        cursor: pointer;
        transition: 0.2s;
    }
    
    .dev-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .dev-btn.active {
        background: linear-gradient(135deg, #2ecc71, #27ae60);
    }
    
    /* –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ */
    .color-menu {
        background: var(--card);
        padding: 20px;
        border-radius: 15px;
        border: 2px solid var(--primary);
        max-width: 300px;
        width: 90%;
    }
    
    .color-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin: 15px 0;
    }
    
    .color-option {
        padding: 12px;
        border-radius: 8px;
        text-align: center;
        cursor: pointer;
        font-weight: 700;
        color: white;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        transition: 0.2s;
    }
    
    .color-option:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    /* –°—Ç–∏–ª–∏ Battle Pass */
    #bp-screen .main-card {
        background: linear-gradient(135deg, #3d2c1a, #5c4228); border: 1px solid #8b4513; position: relative; overflow: hidden; min-height: 180px;
        display: flex; flex-direction: column; justify-content: space-between; padding-bottom: 20px;
    }
    #bp-screen .main-card::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%238b4513' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        opacity: 0.3; z-index: 0;
    }
    #bp-screen .main-card > * { position: relative; z-index: 1; }
    #bp-screen .bp-bar { background: #5c4228; }
    #bp-screen #bp-bar-fill { background: linear-gradient(90deg, #d2691e, #f4a460); }
    #bp-screen .bp-level-circle { background: #f4a460; color: #3d2c1a; border: 2px solid #8b4513; }
    #bp-screen .bp-level-circle:hover:not(.locked) { background: #d2691e; color: white; }
    #bp-screen .bp-reward-card { background: rgba(61, 44, 26, 0.8); border: 1px solid #8b4513; }
    #bp-screen .bp-reward-card:hover:not(.locked):not(.claimed) { background: #d2691e; color: white; }
    #bp-screen .bp-reward-card.premium { background: rgba(91, 66, 40, 0.8); border: 1px solid #d2691e; }
    #bp-screen .bp-reward-card.premium:hover:not(.locked):not(.claimed) { background: #f4a460; color: #3d2c1a; }
    #bp-screen .bp-reward-card.claimed { background: #8b4513; color: white; }
    
    #bp-list { width: 100%; max-height: 380px; overflow-y: auto; padding: 0 5px; margin-bottom: 15px; }
    #bp-list::-webkit-scrollbar { width: 6px; }
    #bp-list::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); border-radius: 3px; }
    #bp-list::-webkit-scrollbar-thumb { background: #d2691e; border-radius: 3px; }
    
    /* –ü—Ä–æ—Ñ–∏–ª—å */
    .profile-info { display: flex; align-items: center; gap: 20px; margin-bottom: 20px; padding: 20px; background: var(--card); border-radius: 20px; width: 100%; }
    .profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center; font-size: 40px; overflow: hidden; cursor: pointer; flex-shrink: 0; }
    .profile-avatar:hover { opacity: 0.8; }
    .profile-details { text-align: left; flex: 1; }
    .profile-id { font-family: 'Montserrat'; font-size: 22px; font-weight: 900; margin-bottom: 5px; }
    
    .profile-stats { width: 100%; margin-top: 20px; padding: 15px; background: var(--card); border-radius: 15px; }
    .profile-stat-item { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 8px 0; border-bottom: 1px solid var(--border); }
    .stat-label { font-size: 14px; opacity: 0.8; }
    .stat-value { font-weight: 700; font-size: 14px; }
    .stat-value.warning { color: #ffa502; }
    .stat-value.banned { color: #ff4757; }
    .stat-value.ultimate { color: #ff00ff; text-shadow: 0 0 5px #ff00ff; font-weight: 900; }
    .stat-value.infinite { color: #00ff00; text-shadow: 0 0 5px #00ff00; }
    .stat-value.custom { color: #ff9900; font-weight: 900; }
    
    /* –û–±–º–µ–Ω–Ω–∏–∫ */
    .exchange-info { display: flex; justify-content: space-between; margin: 15px 0; padding: 15px; background: rgba(0,0,0,0.1); border-radius: 15px; }
    .exchange-balance { text-align: center; }
    .exchange-balance-title { font-size: 14px; opacity: 0.8; margin-bottom: 5px; }
    .exchange-balance-value { font-weight: 900; font-size: 18px; }
    .exchange-rate { text-align: center; margin: 20px 0; padding: 15px; background: var(--primary); color: white; border-radius: 15px; font-weight: 700; }
    .exchange-input { width: 100%; padding: 15px; border-radius: 15px; border: 2px solid var(--border); background: rgba(0,0,0,0.1); color: var(--text); text-align: center; font-size: 18px; font-weight: 700; margin-bottom: 10px; }
    .exchange-result { text-align: center; margin: 15px 0; padding: 15px; background: rgba(46, 204, 113, 0.2); border-radius: 15px; font-size: 20px; font-weight: 900; color: #2ecc71; }
    .exchange-btn-action { width: 100%; padding: 16px; border-radius: 18px; border: none; font-weight: 900; background: linear-gradient(135deg, #2ecc71, #27ae60); color: white; margin-bottom: 10px; cursor: pointer; font-size: 16px; }
    .exchange-btn-action:disabled { opacity: 0.5; cursor: not-allowed; }
    
    /* –ê–Ω—Ç–∏-–∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä */
    .anti-click-warning {
        position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10000;
        background: rgba(255, 165, 2, 0.95); color: white; padding: 20px; border-radius: 20px; max-width: 300px;
        text-align: center; animation: warningAppear 0.3s ease-out; box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: 2px solid #ffbe76;
    }
    @keyframes warningAppear { from { opacity: 0; transform: translate(-50%, -40%); } to { opacity: 1; transform: translate(-50%, -50%); } }
    .warning-content { display: flex; flex-direction: column; align-items: center; gap: 15px; }
    .warning-icon { font-size: 40px; }
    .warning-text { line-height: 1.4; }
    .warning-text small { opacity: 0.8; font-size: 12px; }
    
    .permanent-ban-screen {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 100000;
        display: flex; align-items: center; justify-content: center; padding: 20px;
    }
    .ban-content {
        background: var(--card); padding: 30px; border-radius: 25px; text-align: center; max-width: 400px; width: 100%;
        border: 2px solid #ff4757; box-shadow: 0 15px 40px rgba(0,0,0,0.4);
    }
    .ban-icon { font-size: 80px; margin-bottom: 20px; }
    .ban-title { font-family: 'Montserrat'; font-size: 24px; color: #ff4757; margin-bottom: 10px; font-weight: 900; }
    .ban-reason { font-weight: 700; color: #ffa502; margin-bottom: 20px; padding: 10px; background: rgba(255, 71, 87, 0.1); border-radius: 10px; }
    .ban-unban-section { margin: 20px 0; }
    .unban-input { width: 100%; padding: 12px; border-radius: 12px; border: 2px solid var(--border); background: rgba(0,0,0,0.1); color: var(--text); text-align: center; font-size: 14px; margin-bottom: 10px; }
    .unban-btn { width: 100%; padding: 12px; border-radius: 12px; border: none; background: #2ecc71; color: white; font-weight: 700; cursor: pointer; transition: 0.2s; }
    .unban-btn:hover { background: #27ae60; }
    .ban-details { line-height: 1.5; margin-top: 15px; opacity: 0.9; }
    .ban-details small { display: block; margin-top: 10px; font-size: 12px; opacity: 0.7; }
    
    .rebirth-info { margin: 10px 0; padding: 10px; background: rgba(155, 89, 182, 0.2); border-radius: 10px; font-size: 14px; }
    .watermark { position: fixed; bottom: 10px; right: 10px; color: rgba(255, 255, 255, 0.3); font-size: 12px; z-index: 1; pointer-events: none; font-family: 'Poppins', sans-serif; }
    body[data-theme="light"] .watermark { color: rgba(0, 0, 0, 0.3); }
    .infinite-mode-notice { margin: 10px 0; padding: 10px; border-radius: 10px; font-size: 14px; font-weight: bold; text-align: center; }
    .ultimate-notice { background: rgba(255, 0, 255, 0.2); color: #ff00ff; text-shadow: 0 0 5px #ff00ff; animation: ultimate-glow 2s infinite; border: 1px solid #ff00ff; }
    .infinite-notice { background: rgba(0, 255, 0, 0.2); color: #00ff00; text-shadow: 0 0 5px #00ff00; animation: infinite-glow 2s infinite; border: 1px solid #00ff00; }
    
    /* –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã */
    .reward-info { display: flex; justify-content: space-around; margin: 15px 0; padding: 15px; background: rgba(0,0,0,0.1); border-radius: 15px; }
    .reward-stat { text-align: center; }
    .reward-label { font-size: 12px; opacity: 0.8; margin-bottom: 5px; }
    .reward-value { font-weight: 900; font-size: 18px; color: #f39c12; }
    .reward-status { padding: 12px; border-radius: 12px; font-weight: 700; margin: 15px 0; transition: all 0.3s; }
    .reward-status.available { background: rgba(46, 204, 113, 0.2); color: #2ecc71; border: 2px solid #2ecc71; animation: pulse 2s infinite; }
    .reward-status.claimed { background: rgba(149, 165, 166, 0.2); color: #95a5a6; border: 2px solid #95a5a6; }
    .btn-action.reward-available { background: linear-gradient(135deg, #f39c12, #f1c40f); color: white; font-weight: 900; border: none; }
    .btn-action.reward-claimed { background: #95a5a6; color: white; cursor: not-allowed; }
    .btn-action.reward-available:active { transform: scale(0.98); }
</style>

</head>
<body data-theme="dark">
    <div class="watermark">–ò–î–ï–Ø ClickedTeam ‚Ä¢ –í–ï–†–°–ò–Ø 1.02</div>
    
    <audio id="bg-music" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3"></audio>
    
    <div class="profile-control">
        <div class="profile-btn" onclick="window.showScreen('profile-screen')">üë§</div>
        <div class="exchange-btn" onclick="window.showScreen('exchange-screen')">üí±</div>
        <div class="daily-reward-btn" onclick="window.showScreen('daily-reward-screen')">üéÅ</div>
    </div>
    
    <div class="top-controls">
        <div class="control-btn" onclick="window.toggleMusic()">
            <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
        </div>
        <div class="control-btn" onclick="window.toggleTheme()">
            <svg viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
        </div>
    </div>

<div id="main-screen" class="screen active">
    <h2 style="color:var(--primary)">WinterPandora v1.02</h2>
    <div class="main-card">
        <div id="score" class="score-display">0</div>
        <div style="margin: 10px 0;">
            <span style="color:orange">üí∞ <span id="coins">0</span></span>
            <span style="color:var(--ccoin); margin-left:15px;">üíé <span id="ccoins">0</span></span>
        </div>
        <div id="rank-display">üë∂ –ù–û–í–ò–ß–û–ö</div>
        <div class="rebirth-info">
            –ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π: <span id="rebirth-count">0</span>
            ‚Ä¢ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã: <span id="daily-reward-count">0</span>
            ‚Ä¢ –°–µ—Ä–∏—è: <span id="daily-reward-streak">0</span> –¥–Ω.
        </div>
        <div id="infinite-mode" style="display: none;"></div>
        <button id="click-button" onpointerdown="window.doClick(event)">–ö–õ–ò–ö!</button>
        <div onclick="window.showScreen('skin-screen')" style="font-weight:700; opacity:0.7; cursor:pointer;">–ì–ê–†–î–ï–†–û–ë üëï</div>
    </div>
    <button id="up-btn" class="btn-action" onclick="window.buyUp()">–£–ª—É—á—à–∏—Ç—å (500 üí∞)</button>
    <button class="btn-action" style="background:var(--ccoin); color:black;" onclick="window.showScreen('case-screen')">–ö–ï–ô–° (100 üíé)</button>
    <button class="btn-action" style="background:#9b59b6; color:white;" onclick="window.rebirth()">–ü–ï–†–ï–†–û–ñ–î–ï–ù–ò–ï (5,000,000 üí∞)</button>
    <button class="btn-action" style="background:#3b82f6; color:white;" onclick="window.showScreen('bp-screen')">THE UNDEAD DESERT</button>
    <button class="btn-action" style="background:#f59e0b; color:white;" onclick="window.showScreen('promo-screen')">–ü–†–û–ú–û–ö–û–î üéÅ</button>
</div>

<div id="profile-screen" class="screen">
    <h2>–ü–†–û–§–ò–õ–¨</h2>
    <div class="main-card">
        <div class="profile-info">
            <div class="profile-avatar" id="profile-avatar" onclick="window.uploadAvatar()">üë§</div>
            <div class="profile-details">
                <div class="profile-id">–í–ê–® ID: <span id="profile-user-id">100000</span></div>
                <div>–ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–π: <span id="rebirth-count-profile">0</span></div>
                <div>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã: <span id="daily-reward-count-profile">0</span></div>
            </div>
        </div>
        <div class="profile-stats" id="profile-stats"></div>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="exchange-screen" class="screen">
    <h2 style="color:#2ecc71">–û–ë–ú–ï–ù–ù–ò–ö</h2>
    <div class="main-card">
        <div class="exchange-info">
            <div class="exchange-balance">
                <div class="exchange-balance-title">–í–∞—à–∏ –º–æ–Ω–µ—Ç—ã</div>
                <div class="exchange-balance-value" id="exchange-coins">0</div>
            </div>
            <div class="exchange-balance">
                <div class="exchange-balance-title">–í–∞—à–∏ –∞–ª–º–∞–∑—ã</div>
                <div class="exchange-balance-value" id="exchange-ccoins">0</div>
            </div>
        </div>
        <div class="exchange-rate">
            –ö—É—Ä—Å –æ–±–º–µ–Ω–∞: <span id="exchange-rate">1 üíé = 100,000 üí∞</span>
        </div>
        <input type="number" id="exchange-amount" class="exchange-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç" oninput="window.calculateExchange()" min="100000" max="1000000000">
        <div class="exchange-result" id="exchange-result">0 üíé</div>
        <button class="exchange-btn-action" onclick="window.exchangeCoins()">–û–ë–ú–ï–ù–Ø–¢–¨ –ú–û–ù–ï–¢–´ –ù–ê –ê–õ–ú–ê–ó–´</button>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="daily-reward-screen" class="screen">
    <h2 style="color:#f39c12">–ï–ñ–ï–î–ù–ï–í–ù–´–ï –ù–ê–ì–†–ê–î–´</h2>
    <div id="daily-reward-content"></div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="promo-screen" class="screen">
    <h2>–ü–†–û–ú–û–ö–û–î</h2>
    <div class="main-card">
        <input type="text" id="promo-input" placeholder="–í–í–ï–î–ò –ö–û–î" style="width:100%; padding:15px; border-radius:15px; border:1px solid var(--border); background:rgba(0,0,0,0.1); color:var(--text); text-align:center;">
        <button class="btn-action" style="background:var(--primary); color:white; margin-top:15px;" onclick="window.usePromo()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨</button>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="bp-screen" class="screen">
    <h2>THE UNDEAD DESERT</h2>
    <div class="main-card">
        <div style="display:flex; justify-content:space-between; font-size:12px;">
            <span>–£—Ä. <span id="bp-lvl-display">0</span></span>
            <span><span id="bp-prog-text">0</span> / 1500 XP</span>
        </div>
        <div class="bp-bar"><div id="bp-bar-fill"></div></div>
        <div id="bp-buttons-container" style="margin-top: 15px;"></div>
    </div>
    <div id="bp-list" style="width:100%;"></div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="skin-screen" class="screen">
    <h2>–ì–ê–†–î–ï–†–û–ë</h2>
    <div id="skin-list" class="skin-grid"></div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<div id="case-screen" class="screen">
    <h2>–ö–ï–ô–°–´</h2>
    <div class="main-card">
        <div style="font-size:100px;">üì¶</div>
        <button class="btn-action" style="background:var(--ccoin); color:black; margin-top:20px;" onclick="window.openCase()">–û–¢–ö–†–´–¢–¨</button>
    </div>
    <button class="btn-action" onclick="window.showScreen('main-screen')">–ù–ê–ó–ê–î</button>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        window.updateUI();
        document.getElementById('daily-reward-count-profile').textContent = window.db.dailyRewardsClaimed;
    });
</script>

</body>
</html>